---
title: Solidity Format
hide_title: true
slug: /basics/metadata/solidity
---

![Metadata Title Picture](/img/title/solidity.svg)

# Solidity Metadata Format

Solidity compatible metadata is generated by building a [Solidity ABI compatible ink! contract][sol-compat] using 

```shell
$ cargo contract build ---metadata solidity
```

This generates 2 metadata files in your contract's target directory:
- `<contract-name>.abi`: follows the [Solidity ABI JSON format][sol-abi-json] for describing a contract's interface.
  It's used by tools for contract interaction (e.g. [ethers.js][ethers-js])
- `<contract-name>.json`: follows the [Solidity contract metadata specification][sol-metadata].
  It's used for reproducible builds/compilation and verification of deployed contracts 
  (e.g. by block explorers and contract verification tools).

:::note
Generating Solidity metadata is only possible if all constructor and message
arguments and return types can be mapped to equivalent Solidity ABI types
([more details here][sol-type-mapping]).
:::

[sol-compat]: ../../background/solidity-metamask-compat.md
[sol-abi-json]: https://docs.soliditylang.org/en/latest/abi-spec.html#json
[sol-metadata]: https://docs.soliditylang.org/en/latest/metadata.html
[ethers-js]: https://docs.ethers.org/
[sol-type-mapping]: ../../background/solidity-metamask-compat.md#rustink-to-solidity-abi-type-mapping

## `<contract-name>.abi`

The generated `<contract-name>.abi` file follows the [Solidity ABI JSON format][sol-abi-json].
A notable distinction is that while [ink! contracts can have multiple constructors][ink-ctor], 
the Solidity ABI JSON format only allows one, therefore the constructor annotated with
a [`#[default]`][ink-attr-default] attribute is used.

[ink-ctor]: ../../macros-attributes/constructor.md
[ink-attr-default]: ../../macros-attributes/default.md

## `<contract-name>.json`

The generated `<contract-name>.json` file follows the [Solidity contract metadata specification][sol-metadata]
with the exception being that we repurpose the `"settings"` key to include ink! contract and build info 
namespaced under a `"settings.ink"` key:

### `settings.ink`

It consists of the following **required** keys:

- `hash`: The hash of the contract's binary.
  (The same content as [`source.hash`][ink-meta-source] in ink! metadata format).
- `build_info`: Extra information about the environment in which the contract was built.
  (The same content as [`source.build_info`][ink-meta-source] in ink! metadata format).

[ink-meta-source]: ./ink-format.md#source

It may *optionally* include the following key:

- `image`: If the contract is meant to be verifiable, then the Docker image is specified.
  (The same content as [`image`][verifiable-build] in ink! metadata format,
  which is used for [verifiable builds][verifiable-build]).

[verifiable-build]: ../contract-verification.md#verifiable-build

:::note
The ABI JSON content (i.e. the content of the `<contract-name>.abi` file) is also contained
in the `<contract-name>.json` metadata file under the `"output.abi"` key.
:::

## MetaMask Compatibility

:::caution
This section has not yet been written for ink! v6.

TODO @davidsemakula
:::