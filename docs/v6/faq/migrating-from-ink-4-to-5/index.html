<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-faq/migrating-from-ink-4-to-5" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Migration: ink! v4 → v5 | Documentation | ink!</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://use.ink/docs/v6/faq/migrating-from-ink-4-to-5"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://use.ink/img/opengraph/docs.png"><meta data-rh="true" property="og:image:width" content="1200"><meta data-rh="true" property="og:image:height" content="630"><meta data-rh="true" property="og:image:alt" content="ink! Documentation"><meta data-rh="true" property="og:image:type" content="image/png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Migration: ink! v4 → v5 | Documentation | ink!"><meta data-rh="true" name="description" content="Migration 4.x To 5.0 Title Picture"><meta data-rh="true" property="og:description" content="Migration 4.x To 5.0 Title Picture"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://use.ink/docs/v6/faq/migrating-from-ink-4-to-5"><link data-rh="true" rel="alternate" href="https://use.ink/docs/v6/faq/migrating-from-ink-4-to-5" hreflang="en"><link data-rh="true" rel="alternate" href="https://use.ink/docs/v6/faq/migrating-from-ink-4-to-5" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://I2MRSLMPI9-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Documentation | ink!" href="/opensearch.xml">



<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="fonts/fonts.css">
<script src="https://apisa.parity.io/latest.js" defer="defer"></script>
<script src="https://use-ink-data.netlify.app/script.js" defer="defer" data-website-id="c97b4e05-21a3-4873-8884-4fc81c38d6f0"></script><link rel="stylesheet" href="/assets/css/styles.dc7a1013.css">
<script src="/assets/js/runtime~main.6529609a.js" defer="defer"></script>
<script src="/assets/js/main.121c3bc4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/text-black.svg"><link rel="preload" as="image" href="/img/text-white.svg"><link rel="preload" as="image" href="/img/pallet-version.png"><link rel="preload" as="image" href="/img/chains/aleph-zero.svg"><link rel="preload" as="image" href="/img/chains/astar.svg"><link rel="preload" as="image" href="/img/chains/shiden.svg"><link rel="preload" as="image" href="/img/chains/phala.svg"><link rel="preload" as="image" href="/img/chains/pendulum.svg"><link rel="preload" as="image" href="/img/chains/amplitude.svg"><link rel="preload" as="image" href="/img/chains/ternoa.svg"><link rel="preload" as="image" href="/img/chains/krest.svg"><link rel="preload" as="image" href="/img/api-version-1.png"><link rel="preload" as="image" href="/img/cargo-contract-storage.png"><link rel="preload" as="image" href="/img/cargo-contract-info.png"><link rel="preload" as="image" href="/img/api-version-2.png"><div class="absolute inset-0 z-0 section-bg"></div><div role="region" aria-label="Skip to main content"><a class="skipToContent_SZKD" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="absolute inset-0 z-0 mask"></div><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><div class="hamburger-react" aria-label="Open menu" aria-expanded="false" role="button" style="cursor:pointer;height:48px;position:relative;transition:0.4s cubic-bezier(0, 0, 0, 1);user-select:none;width:48px;outline:none" tabindex="0"><div style="background:#BD82FD;height:2px;left:10px;position:absolute;border-radius:9em;width:28px;top:14px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div><div style="background:#BD82FD;height:2px;left:10px;position:absolute;border-radius:9em;width:28px;top:23px;transition:0.4s cubic-bezier(0, 0, 0, 1);opacity:1"></div><div style="background:#BD82FD;height:2px;left:10px;position:absolute;border-radius:9em;width:28px;top:32px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div></div></button><div class="flex ml-0 items-center justify-center gap-2 overflow-hidden group h-[calc(100%+1rem)]"><div class="relative logo-wrap"><a class="absolute top-0 left-0 z-10 w-full h-full cursor-pointer" href="/"></a><a class="transition-all will-change-transform duration-700 origin-left navbar__brand group-hover:translate-y-[-160%] !m-0" href="/"><div class="navbar__logo"><img src="/img/text-black.svg" alt="ink!" class="themedComponent_gdZ7 themedComponent--light_EpyW"><img src="/img/text-white.svg" alt="ink!" class="themedComponent_gdZ7 themedComponent--dark_pNIp"></div><b class="navbar__title text--truncate"></b></a><div class="absolute top-[150%] will-change-transform rotate-45 group-hover:-rotate-6 left-0 group-hover:translate-y-[-50%] transition-all duration-700 origin-left"><svg xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5" clip-rule="evenodd" viewBox="0 0 585 1776" class="w-[120px] h-[120px]"><title>ink squink</title><g fill="#bc83fb" stroke="#000"><path stroke-width="38.83" d="m61.59 492.6-17.04-77.34c-15.38-69.8 16.47-141.5 78.58-176.8 40.37-23.04 83.92-59.21 115.6-115.4M544.1 492.6s4.848-21.72 11.01-49.35c12.99-58.2-14.73-117.9-67.58-145.5-53-27.82-109.8-79.72-114.7-174.7l-.854 319.6 172.2 50z"></path><path stroke-width="47.8" d="M271.4 61.1c.001-.002 8.026-36.94 49.42-37.2 22.92-.142 43.07 15.17 49.42 37.19.001.001 18.47 136.3 28.24 208.5a128.54 128.54 0 0 0 34.03 71.12c65 68.64 209.5 254.3 67.78 427.9 0 0-11.16-146.8-188.3-146.8h-6.074c-177.2 0-200.4 146.8-200.4 146.8-178.1-218.1 111.5-582.7 165.9-707.5z"></path></g><path fill="#bc83fb" d="M485.2 826.2c59.88 25.86 80.38 99.62 64.18 161l-.015.066c-76.12 392-273 737.6-353.1 764.5 0 0 14.57-96.57 21.81-144.6a158 158 0 0 0-3.296-63.26c-21.19-80.79-71.19-148.9-91.26-226.7-30.17-116.9-38.33-243.9-77.66-386.6-11.65-41.96 7.464-86.39 45.95-106.8l-.039-.076c54.69-10.51 8.172-71.69 5.561-116.8 42.4-127.5 76.69-171.2 189.1-172.7 121.9-11.06 190.5 83.67 222.1 170.5-10.38 109.7-29.44 100.2-23.34 121.3z"></path><g fill="#5a007e" stroke="#000" stroke-width="47.8"><path d="M505.5 1167c-111.8 446.2-51.52 489.3-51.52 489.3l-80.53-75.67M114.6 1280c7.085 193 44.58 303.8-22.91 337.9 0 0 71.03-2.088 107.3-60.75"></path></g><path fill="#d8b6ff" d="m455.4 845.6 53.24 32.45c15.55 9.478 23.27 27.85 19.16 45.59-23.43 100.1-101.5 424-152.8 516.7l-1.498 5.541-5.115 19.17c-4.31 20.48-9.004 45.19-8.722 32.68l8.722-32.68c2.245-10.96 4.41-20.72 5.615-22.84l.998-1.869c67.53-250.1 123.4-436.8-7.457-539 45.51-7.88 74.76-25.83 87.9-55.73z"></path><path fill="#5a007e" d="M298.4 80.96c.859-19.67-33.44 70.94-35.6 77.78-60.31 191.6-222.9 305.5-155.7 529.9.599 2.001 7.039-11.2 19.88-34 36.46-64.71 135.2-82.88 135.2-82.88-188-146.4 29.66-342.3 36.15-490.8z"></path><path fill="#d8b6ff" d="M334.5 92.91c4.751-19.1 13.02 40.86 11.7 47.91-34.98 185.6 247.2 345.9 149.7 559.7-.425.933-7.418-32.56-26.6-57.79-19.91-26.18-52.03-44.15-52.03-44.15 104.5-117.2-144.5-257.3-82.77-505.7z"></path><path fill="#5a007e" d="M213.8 895.1c-125.9 104.1 17.82 544.2 32.35 724.2.159 1.97-.512 3.869-.819 5.72-3.224 19.42-3.006-33.56-3.849-40.68-7.219-60.98-39.37-151.2-74.87-226.2-36.85-77.85-42.67-199-51.18-282.2-13.83-135.2-60.48-169.7 27.88-237.6.248-.191 2.731.897 6.684 2.883 9.77 26.17 30.99 43.78 63.81 53.93z"></path><path fill="#d8b6ff" d="m221.2 897.3 3.017.727c-27.17 39.28-62.22 178 1.925 558-15.66-92.77-101-443.9-6.891-559.3l1.949.562z"></path><path fill="#5a007e" d="M229.5 899.3c19.85 4.357 43.19 6.542 70.03 6.689-73.29 35.32-111.4 86.45-42.92 437.1 19.98 102.3-11.21 202.3-10.52 276.2.019 1.977-.512 3.869-.819 5.72-3.224 19.42-3.006-33.56-3.849-40.68-23.44-278.1-61.4-522.9-11.92-685z"></path><path fill="none" stroke="#000" stroke-width="47.8" d="M485.2 826.2c59.88 25.86 80.38 99.62 64.18 161l-.015.066c-76.12 392-273 737.6-353.1 764.5 0 0 14.57-96.57 21.81-144.6a158 158 0 0 0-3.296-63.26c-21.19-80.79-71.19-148.9-91.26-226.7-28.86-111.9-37.58-232.9-72.72-368.1-13.61-52.31 12.67-106.8 62.08-128.7l-.039-.089"></path><g fill="#d8b6ff" stroke="#000" stroke-width="47.8"><path d="M330.9 1488c-7.247 28.95 4.705 57.4 26.67 63.48s45.69-12.48 52.94-41.43-4.706-57.4-26.68-63.48c-21.97-6.085-45.69 12.48-52.94 41.43zM375.1 1349c-9.986 36.51 4.39 72.92 32.08 81.24 27.69 8.325 58.28-14.56 68.27-51.07s-4.39-72.92-32.08-81.24c-27.69-8.326-58.28 14.56-68.27 51.07M294.9 1587c-13.53 22.43-10.45 48.87 6.875 59 17.33 10.13 42.38.142 55.91-22.29 13.53-22.43 10.45-48.87-6.875-59s-42.38-.142-55.91 22.29M237 1669c-17.26 15.76-21.14 38.38-8.646 50.48s36.65 9.12 53.91-6.644c17.26-15.76 21.14-38.38 8.646-50.48s-36.65-9.12-53.91 6.644"></path></g><g fill="none" stroke="#000"><path stroke-width="17.41" d="m289.7 785.5.001.004a22.038 22.038 0 0 0 41.405-.205"></path><path stroke-width="29.87" d="m369.6 730.2 5.108-3.539c20.62-14.29 48.78-10.2 64.48 9.374l2.116 2.638M253.4 731.7l-14.19-7.343c-18.5-9.576-41.08-6.06-55.79 8.691l-7.824 7.845"></path></g></svg></div></div><div class="flex flex-row gap-2 items-center"><a class="hidden no-underline hover:no-underline sm:block" href="/docs/v6"><code class="text-[14px] rounded-full px-[5.8px] py-[1.6px] bg-[#8c7cf726] border-[#8c7cf71a] text-[#cac2ff]">/docs</code></a><a href="https://polkadot.com" class="hidden no-underline hover:no-underline sm:block" target="_blank" rel="noreferrer"><div class="z-10 flex-row gap-2 items-center mt-1 ml-2" style="opacity:0"><span class="block text-xs text-[#cac2ff]">Powered by</span><svg xmlns="http://www.w3.org/2000/svg" width="1156" height="246" fill="none" viewBox="0 0 1156 246" class="w-auto h-[20px]"><path fill="#fff" fill-rule="evenodd" d="m314.09 211.135 10.869-51.091c5.97.699 13.748 1.352 24.571 1.352 25.288 0 45.928-6.905 60.269-19.141C424.16 130 432.105 112.48 432.105 91.484c0-14.241-3.802-26.216-10.959-35.538-7.158-9.322-17.607-15.907-30.754-19.48-7.649-2.084-16.213-3.156-25.591-3.156-9.933 0-29.373 2.666-41.094 4.645l-.755.124-36.899 173.063h28.031zm34.227-75.517c-3.808 0-7.197-.059-10.314-.202a111 111 0 0 1-7.719-.614l15.813-74.126c5.047-.719 12.14-1.594 19.433-1.594 4.499 0 8.604.366 12.315 1.071 7.144 1.359 12.824 3.979 17.077 7.65 6.429 5.553 9.727 13.653 9.727 23.922 0 13.164-4.725 24.08-14.038 31.729-9.339 7.676-23.422 12.164-42.294 12.164" clip-rule="evenodd"></path><path fill="#fff" d="M560.872 211.135 598.119 36.42h-28.043l-37.241 174.715h28.044z"></path><path fill="#fff" fill-rule="evenodd" d="m914.877 99.512 13.567-63.092h28.069l-24.597 114.537c-2.188 10.034-4.098 21.427-4.098 28.142 0 2.751.361 4.854 1.084 6.232.348.673.774 1.144 1.258 1.451.478.307 1.085.49 1.872.49 1.02 0 2.285-.471 3.776-1.47 1.478-.987 3.072-2.424 4.724-4.181 3.234-3.436 6.584-7.996 9.559-12.536a52 52 0 0 1-.026-1.731c0-18.736 6.693-37.961 18.311-52.516 11.623-14.561 28.224-24.504 48.024-24.504 13.73 0 24.71 4.814 32.25 13.065 7.53 8.238 11.54 19.794 11.54 33.114 0 31.821-19.08 65.013-48.92 74.564a57.2 57.2 0 0 1-17.413 2.704c-6.067 0-11.599-.941-16.542-2.717-8.539-3.051-15.271-8.571-19.905-15.888-5.738 7.258-12.14 12.791-19.292 15.861-4.13 1.784-8.571 2.744-13.114 2.744s-8.585-.934-12.018-2.783c-7.274-3.926-11.495-11.811-12.069-22.884-6.397 10.505-15.032 18.867-26.082 22.95-4.75 1.75-9.913 2.704-15.528 2.704-5.254 0-10.069-.954-14.387-2.724-9.042-3.698-15.8-10.897-19.756-20.062-6.022 9.956-12.579 16.613-19.969 20.042-3.963 1.843-8.223 2.744-12.547 2.744s-8.165-.96-11.405-2.783c-6.931-3.9-10.914-11.543-11.656-21.335-5.964 9.635-13.947 17.481-24.371 21.407-4.647 1.751-9.752 2.711-15.354 2.711-5.228 0-10.082-.941-14.458-2.718-5.447-2.208-9.713-5.827-12.985-10.341-5.822 5.795-12.638 10.021-19.937 12.288-8.133 2.522-17.059 2.613-25.398-.836-8.448-3.501-15.167-10.178-19.446-19.147-2.188-4.593-4.395-10.047-6.519-15.306a879 879 0 0 0-1.768-4.364c-1.291-3.149-2.582-6.232-3.918-9.204a77 77 0 0 1-8.668 1.3L607 211.253h-28.94l37.434-175.604h28.947l-20.763 97.382c14.605-4.253 34.742-16.286 48.58-45.996l27.405 13.078c-12.786 27.457-30.483 44.292-47.819 54.025a337 337 0 0 1 3.504 8.303c.723 1.77 1.407 3.456 2.059 5.069 2.053 5.07 3.795 9.394 5.577 13.118 1.574 3.299 3.394 4.605 4.763 5.167 1.484.614 3.653.85 6.499-.032 5.738-1.784 13.309-8.075 17.052-20.134l2.743-12.157c1.071-8.003 3.092-15.287 5.654-20.65 12.256-25.647 36.743-42.985 63.857-42.985 8.823 0 18.04 2.137 26.095 5.364 8.048 3.227 15.038 7.584 19.362 12.105l.426.444-.135.601c-.859 3.802-1.937 8.44-3.118 13.529-1.917 8.244-4.105 17.677-6.093 26.699-1.6 7.29-3.059 14.287-4.124 20.127-1.065 5.873-1.704 10.491-1.704 13.072 0 1.946.401 3.338 1.007 4.213.568.823 1.375 1.261 2.472 1.261 1.549 0 3.382-.856 5.499-2.835 2.104-1.966 4.37-4.926 6.771-8.839 4.795-7.826 10.029-19.291 15.58-33.773 10.23-31.07 36.498-51.478 62.825-51.478 12.082 0 20.498 3.62 26.488 9.172zM773.602 140.91l5.131-21.715c-4.783-2.855-10.211-4.788-17.136-4.788-12.044 0-22.648 6.728-30.283 16.756-7.642 10.027-12.218 23.25-12.218 35.962 0 6.441 1.536 11.667 4.331 15.26 2.769 3.561 6.854 5.625 12.237 5.625 8.068 0 15.774-4.122 22.377-12.105 6.609-7.996 12.069-19.807 15.561-34.989zm135.021-12.948 1.316-6.396c-4.86-3.802-11.475-6.663-20.091-6.663-11.547 0-21.732 6.539-29.07 16.404-7.338 9.87-11.747 22.968-11.747 35.818 0 6.696 1.543 11.922 4.247 15.456 2.679 3.495 6.584 5.435 11.598 5.435 9.191 0 18.169-5.918 25.882-16.514 7.699-10.576 14.012-25.647 17.865-43.534zm73.81 53.724c2.975 3.881 7.596 6.317 14.321 6.317 9.666 0 18.516-6.402 25.016-15.965 6.48-9.545 10.47-22.048 10.47-33.8 0-6.337-1.43-11.87-4.43-15.796-2.97-3.881-7.59-6.324-14.33-6.324-9.66 0-18.507 6.461-25.006 16.057-6.48 9.577-10.469 22.087-10.469 33.722 0 6.337 1.427 11.863 4.428 15.789" clip-rule="evenodd"></path><path fill="#fff" d="m1155.44 178.244-.65.953c-5.14 7.604-12.13 16.084-16.9 20.336-3.89 3.489-8.36 6.729-13.29 9.238-5.95 3.044-12.59 5.004-19.69 5.004-6.04 0-11.25-1.085-15.65-3.097-11.93-5.455-17.48-17.573-17.48-32.31 0-5.834.66-11.517 1.4-15.979v-.039l.02-.098c.27-1.562.53-2.979.79-4.194l8.68-40.718h-19.19l5.23-24.55h19.05l10.17-47.166h28.05l-10.22 47.166h33.98l-5.22 24.55h-34.09l-8.78 41.678c-.02.091-.03.176-.05.261v.033l-.01.013c-.02.098-.03.19-.05.287h-.01l-.01.092c-1.15 5.86-2.03 11.132-2.03 15.482 0 4.031.82 7.134 2.27 9.192 1.42 2.012 3.5 3.135 6.3 3.135 3.21 0 6.13-1.162 9.41-3.521 3.29-2.378 6.86-5.912 11.35-10.563.35-.398 2.55-3.096 4.93-6.023l1.92-2.352z"></path><path fill="#fff" fill-rule="evenodd" d="M490.115 90.34c-19.795 0-36.402 9.937-48.025 24.504-11.618 14.555-18.311 33.774-18.311 52.516 0 20.963 9.772 37.465 27.269 43.717 4.937 1.77 10.462 2.704 16.523 2.704 6.06 0 11.92-.947 17.381-2.691 29.857-9.531 48.961-42.737 48.961-74.57 0-13.32-4.014-24.877-11.547-33.114-7.544-8.245-18.523-13.065-32.251-13.065m-19.634 97.663c-6.725 0-11.346-2.443-14.321-6.317-3.008-3.926-4.428-9.452-4.428-15.789 0-11.635 3.989-24.138 10.469-33.722 6.499-9.596 15.348-16.057 25.01-16.057 6.731 0 11.352 2.443 14.321 6.324 3.008 3.926 4.428 9.459 4.428 15.796 0 11.752-3.989 24.255-10.469 33.8-6.493 9.563-15.348 15.965-25.01 15.965" clip-rule="evenodd"></path><path fill="#FF2670" d="M127.287 52.399c24.104 0 43.643-11.509 43.643-25.706S151.391.987 127.287.987 83.644 12.496 83.644 26.693s19.54 25.706 43.643 25.706M127.287 245.987c24.104 0 43.643-11.509 43.643-25.706s-19.539-25.706-43.643-25.706-43.643 11.509-43.643 25.706 19.54 25.706 43.643 25.706M66.459 87.94c12.051-21.128 11.977-44.008-.168-51.105s-31.759 4.278-43.81 25.406-11.977 44.008.167 51.105 31.759-4.278 43.81-25.406M232.112 184.734c12.052-21.128 11.974-44.01-.173-51.108-12.147-7.099-31.764 4.274-43.816 25.402s-11.974 44.01.173 51.109c12.147 7.098 31.764-4.275 43.816-25.403M66.292 210.143c12.147-7.098 12.224-29.98.173-51.108s-31.67-32.501-43.816-25.403c-12.148 7.099-12.225 29.981-.173 51.109s31.669 32.501 43.816 25.402M231.935 113.341c12.148-7.098 12.225-29.98.173-51.108s-31.669-32.501-43.816-25.403c-12.147 7.099-12.225 29.98-.173 51.109 12.052 21.128 31.669 32.501 43.816 25.402"></path></svg></div></a></div></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link block lg:!hidden !hidden" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/v6/faq/migrating-from-ink-4-to-5">v6</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/v6/faq/migrating-from-ink-4-to-5">v6</a></li><li><a class="dropdown__link" href="/docs/v5/faq/migrating-from-ink-4-to-5">v5</a></li><li><a class="dropdown__link" href="/docs/v4/">v4</a></li><li><a class="dropdown__link" href="/docs/v3/">v3</a></li></ul></div><div class="relative group/nav-item hidden w-auto lg:block"><li class="flex items-center gap-1 font-[700] text-[16px] transition-colors outline-none cursor-pointer text-white group-hover/nav-item:text-primary hover:text-[#8c7cf7]">v6<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="w-4 h-4 transition-transform duration-200 group-hover/nav-item:rotate-180 text-[rgb(140,124,247)]"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"></path></svg></li><div class="absolute z-50 flex flex-col invisible gap-2 mt-2 transition-all duration-200 ease-in-out origin-top transform scale-y-90 scale-x-90 -translate-x-1/2 border shadow-md opacity-0 left-1/2 top-full group-hover/nav-item:visible group-hover/nav-item:opacity-100 group-hover/nav-item:scale-y-100 group-hover/nav-item:scale-x-100 backdrop-blur-md p-[12px] rounded-[18px] shadow-[rgba(140,_124,_247,_0.12)_0px_2px_1px_0px_inset,_rgba(189,_130,_253,_0.15)_0px_0px_10px_0px_inset,_rgba(0,_0,_0,_0.24)_36px_36px_24px_0px] bg-[#171233f3] w-[180px]"><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/docs/v6/faq/migrating-from-ink-4-to-5" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1"><div class="flex items-center text-white"><span>ink! <!-- -->v6</span><span class="px-2 py-0.5 ml-4 text-black bg-white rounded-[8px] text-[12px]">latest</span></div></div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/docs/v5/faq/migrating-from-ink-4-to-5" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1"><div class="flex items-center text-white"><span>ink! <!-- -->v5</span></div></div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/docs/v4" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1"><div class="flex items-center text-white"><span>ink! <!-- -->v4</span></div></div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/docs/v3" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1"><div class="flex items-center text-white"><span>ink! <!-- -->v3</span></div></div></a></li></div></div><div class="navbarSearchContainer_dCNk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="z-10 main-wrapper mainWrapper_eExm"><div class="docsWrapper_bSxm"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Zmm4" type="button"></button><div class="docRoot_cWv0"><aside class="theme-doc-sidebar-container docSidebarContainer_RSuS"><div class="sidebarViewport_pYEE"><div class="sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Y1UP"><a class="ml-0.5 pb-4 text-[13px] font-[500] text-[rgb(220,215,224)] flex items-center gap-2 hover:!text-white" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="text-[#797979]"><path d="M208.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L137,128ZM57,128l71.52-71.51a12,12,0,0,0-17-17l-80,80a12,12,0,0,0,0,17l80,80a12,12,0,0,0,17-17Z"></path></svg><span>Back to use.ink website</span></a><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/">Welcome!</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/basics/contract-template">Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/contract-testing/overview">Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/contract-debugging/">Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/macros-attributes">Macros &amp; Attributes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/datastructures/overview">Storage &amp; Data Structures</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/linter/overview">Linter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/integrations-and-sdks/overview">Integration &amp; SDKs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/v6/background/polkadot-sdk">Technical Background</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item border border-solid border-[#8c7cf71a] rounded-[12px]"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/v6/faq">FAQ</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v6/faq">Frequently Asked Questions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v6/faq/migrating-from-ink-5-to-6">Migration: ink! v5 → v6</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/v6/faq/migrating-from-ink-4-to-5">Migration: ink! v4 → v5</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/v6/faq/migrating-from-ink-3-to-4">Migration: ink! v3 → v4</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_hjYf"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_dSW5"><div class="docItemContainer_WJ6R"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs"><svg version="1.1" id="svg-701448692_806" x="0" y="0" viewBox="0 0 44.5 76" style="enable-background:new 0 0 44.5 76" fill="currentColor" xml:space="preserve" role="img" class="breadcrumbHomeIcon_xK9p"><circle class="st0" cx="22.2" cy="33.7" r="14.7"></circle><path class="st0" d="M22.2 49.5c-1.4 0-2.5-1.1-2.5-2.5v-4.7c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5V47c0 1.4-1.1 2.5-2.5 2.5zM20.1 1l-7.5 9.5c-1.4 1.8-.1 4.4 2.1 4.4h15c2.3 0 3.6-2.6 2.1-4.4L24.4 1c-1.1-1.3-3.2-1.3-4.3 0z"></path><path class="st0" d="M2.5 66.9c-.7 0-1.4-.3-1.9-.8-.9-1-.8-2.6.2-3.5l21.4-18.9 21.4 18.9c1 .9 1.1 2.5.2 3.5-.9 1-2.5 1.1-3.5.2l-18.1-16-18.1 16c-.4.4-1 .6-1.6.6z"></path><path class="st0" d="M30.9 76c-1.1 0-2-.7-2.4-1.7l-6.2-19.2L16 74.3c-.4 1.3-1.8 2-3.2 1.6-1.3-.4-2-1.8-1.6-3.2l11-33.8 11 33.8c.4 1.3-.3 2.7-1.6 3.2-.2.1-.5.1-.7.1z"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">FAQ</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Migration: ink! v4 → v5</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v6</span><div class="tocCollapsible_Arxk theme-doc-toc-mobile tocMobile_MGOQ"><button type="button" class="clean-btn tocCollapsibleButton_8bZx">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migration: ink! v4 → v5</h1></header><p><img decoding="async" loading="lazy" alt="Migration 4.x To 5.0 Title Picture" src="/assets/images/migration-4.x-to-5.0-c8ff24289a1bd0d686f54d8f8b0e170b.svg" width="1600" height="500" class="img_Tjeo"></p>
<p>We&#x27;ve made a couple of breaking changes from ink! 4.x to ink! 5.0.
On this page we outline how you can migrate existing dApps and
contracts from 4.x to 5.0.</p>
<p>This release addresses the majority of issues raised in <a href="https://blog.openzeppelin.com/security-review-ink-cargo-contract" target="_blank" rel="noopener noreferrer">the OpenZeppelin
security review</a>.
In particular, we addressed the proxy selector clashing attack.</p>
<p>You can find the full changelog of the 5.0 release <a href="https://github.com/use-ink/ink/blob/master/CHANGELOG.md#version-500" target="_blank" rel="noopener noreferrer">here</a>.</p>
<div class="admonition-wrap-caution admonition-wrap p-[5px] rounded-[12px] border border-solid my-2 border-l-[5px]"><div class="theme-admonition theme-admonition-caution admonition_ryXn alert alert--warning"><div class="admonitionHeading_bY5t"><span class="admonitionIcon_WwqN"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256"><path d="M116,132V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0ZM236,91.55v72.9a19.86,19.86,0,0,1-5.86,14.14l-51.55,51.55A19.85,19.85,0,0,1,164.45,236H91.55a19.85,19.85,0,0,1-14.14-5.86L25.86,178.59A19.86,19.86,0,0,1,20,164.45V91.55a19.86,19.86,0,0,1,5.86-14.14L77.41,25.86A19.85,19.85,0,0,1,91.55,20h72.9a19.85,19.85,0,0,1,14.14,5.86l51.55,51.55A19.86,19.86,0,0,1,236,91.55Zm-24,1.66L162.79,44H93.21L44,93.21v69.58L93.21,212h69.58L212,162.79ZM128,156a16,16,0,1,0,16,16A16,16,0,0,0,128,156Z"></path></svg></span>caution</div><div class="admonitionContent_Q9KL"><p>This migration guide only considers your code base! Not your storage data!</p><p>If you have an existing contract on-chain you might not be able to just
upgrade the code on-chain, you possibly also have to migrate your storage data.</p><p>The relevant change that you have to take into consideration is
<a href="https://github.com/use-ink/ink/pull/1897" target="_blank" rel="noopener noreferrer">#1897</a>.
A data migration may be required when your contract reads data from storage and truncates
the data when decoding it.
We&#x27;ve described this in more detail below, in the section
<a href="#fail-when-decoding-from-storage-and-not-all-bytes-consumed">&quot;Fail when decoding from storage and not all bytes consumed&quot;</a>.</p></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_mSTA" id="how-to-upgrade">How to upgrade<a href="#how-to-upgrade" class="hash-link" aria-label="Direct link to How to upgrade" title="Direct link to How to upgrade">​</a></h2>
<ul>
<li>Change the dependency versions of <code>ink</code> and <code>ink_e2e</code> in your contracts <code>Cargo.toml</code> to <code>5</code>.</li>
<li>Update your local <code>cargo-contract</code> installation to 4.0.</li>
<li>Read through this page.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mSTA" id="compatibility">Compatibility<a href="#compatibility" class="hash-link" aria-label="Direct link to Compatibility" title="Direct link to Compatibility">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="substratepolkadot-sdk">Substrate/Polkadot SDK<a href="#substratepolkadot-sdk" class="hash-link" aria-label="Direct link to Substrate/Polkadot SDK" title="Direct link to Substrate/Polkadot SDK">​</a></h3>
<p>There are four new functions that are only compatible from particular releases upwards:</p>
<ul>
<li>v2 of <code>call</code> and <code>instantiate</code>: <code>&gt;= polkadot-v1.8.0</code> and <code>substrate-contracts-node &gt;= v0.39.0</code>
(<a href="#call-and-instantiate-v2">explained here</a>).</li>
<li><code>lock_delegate_dependency</code> and <code>unlock_delegate_dependency</code>:
<code>&gt;= polkadot-v1.9.0</code> and <code>substrate-contracts-node &gt;= v0.40.0</code> (<a href="#upgradeable-contracts-delegate_dependency">explained here</a>).</li>
</ul>
<p>These four functions are all opt-in! None of them are required to use ink! 5.0, they are only
required if you want to access the particular functionality they provide.
Please see the linked explainers for more details about them.</p>
<p>If you are not using any of those four functions, the same requirements as for ink! 4.0 holds:</p>
<ul>
<li><code>pallet-contracts</code> &gt;= <code>polkadot-v0.9.37</code>.</li>
<li><code>substrate-contracts-node</code> &gt;= <code>v0.24.0</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="how-do-i-find-out-if-a-chain-is-compatible-with-ink-5">How do I find out if a chain is compatible with ink! 5?<a href="#how-do-i-find-out-if-a-chain-is-compatible-with-ink-5" class="hash-link" aria-label="Direct link to How do I find out if a chain is compatible with ink! 5?" title="Direct link to How do I find out if a chain is compatible with ink! 5?">​</a></h3>
<p>You can query <code>contracts::palletVersion()</code> via the chain state RPCs. It has to
be <code>&gt;= 9</code> for ink! 5.0 to be compatible, if you don&#x27;t use any of the four functions
mentioned above.
For the above mentioned four functions please see the respective sections on this page,
there we explain how to find out if a chain supports them there.</p>
<p>You can use the <a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer">polakdot.js app</a> to do this:
Developer » Chain State » <code>contracts</code> » <code>palletVersion()</code> » Click on the <code>+</code> on the right.</p>
<img src="/img/pallet-version.png">
<p>The following chains are in production and support ink! 5.0, if you are not using any of the
four functions mentioned above:</p>
<div class="row"><div class="col text--center"><a href="https://alephzero.org"><img src="/img/chains/aleph-zero.svg" class="chain"></a></div><div class="col text--center"><a href="https://astar.network"><img src="/img/chains/astar.svg" class="chain"></a></div><div class="col text--center"><a href="https://shiden.astar.network"><img src="/img/chains/shiden.svg" class="chain"></a></div></div>
<div class="row"><div class="col text--center"><a href="http://phala.network"><img src="/img/chains/phala.svg" class="chain"></a></div><div class="col text--center"><a href="https://pendulumchain.org"><img src="/img/chains/pendulum.svg" class="chain"></a></div><div class="col text--center"><a href="https://pendulumchain.org/amplitude"><img src="/img/chains/amplitude.svg" class="chain"></a></div></div>
<div class="row"><div class="col text--center"><a href="https://www.ternoa.network/"><img src="/img/chains/ternoa.svg" class="chain"></a></div><div class="col text--center"><a href="https://krest.peaq.network/"><img src="/img/chains/krest.svg" class="chain"></a></div></div>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="cargo-contract-40"><code>cargo-contract</code> 4.0<a href="#cargo-contract-40" class="hash-link" aria-label="Direct link to cargo-contract-40" title="Direct link to cargo-contract-40">​</a></h3>
<p>Together with ink! 5.0 we&#x27;ve released <code>cargo-contract</code> 4.0.</p>
<div class="admonition-wrap-info admonition-wrap p-[5px] rounded-[12px] border border-solid my-2 border-l-[5px]"><div class="theme-admonition theme-admonition-info admonition_ryXn alert alert--info"><div class="admonitionHeading_bY5t"><span class="admonitionIcon_WwqN"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256"><path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"></path></svg></span>info</div><div class="admonitionContent_Q9KL"><p>You have to use <code>cargo-contract</code> &gt;= 4.0 for ink! 5.0 contracts!</p><p>You can upgrade via:</p><div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">cargo install cargo</span><span class="token operator" style="color:#e09142">-</span><span class="token plain">contract </span><span class="token operator" style="color:#e09142">-</span><span class="token operator" style="color:#e09142">-</span><span class="token plain">version </span><span class="token operator" style="color:#e09142">^</span><span class="token number" style="color:#e09142">4</span><br></span></code></pre></div></div></div></div></div>
<p>Make sure that e.g. your CI also uses at least <code>cargo-contract</code> 4.0 with ink! v5.0.
If you have wrapper scripts around <code>cargo-contract</code>, you should
ensure that this version is enforced, otherwise users will get an error.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="tooling--libraries">Tooling &amp; Libraries<a href="#tooling--libraries" class="hash-link" aria-label="Direct link to Tooling &amp; Libraries" title="Direct link to Tooling &amp; Libraries">​</a></h3>
<ul>
<li>Stable Rust &gt;= 1.75</li>
<li><code>cargo-contract</code> &gt;= v4.0</li>
<li><code>polkadot-js/api</code> and <code>polkadot-js/api-contract</code> &gt;= 10.12.1</li>
<li><a href="https://github.com/scio-labs/use-inkathon" target="_blank" rel="noopener noreferrer"><code>use-inkathon</code></a>: upgrade the <code>polkadot-js/api</code> and <code>polkadot-js/api-contract</code> dependencies in your project to &gt;= 10.12.1</li>
<li><a href="https://inkathon.xyz/" target="_blank" rel="noopener noreferrer">ink!athon</a> &gt;= 0.7.0</li>
<li><a href="https://github.com/Brushfam/typechain-polkadot" target="_blank" rel="noopener noreferrer"><code>typechain-polkadot</code></a> &gt;= 1.2.0</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_mSTA" id="important-changes">Important Changes<a href="#important-changes" class="hash-link" aria-label="Direct link to Important Changes" title="Direct link to Important Changes">​</a></h2>
<p>We had to introduce a number of changes that require you to manually upgrade
your contract from 4.x to 5.0. The steps to do this are explained in this section.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="scale-dependencies-were-moved-to-ink-entrance-crate"><code>scale</code> dependencies were moved to <code>ink</code> entrance crate<a href="#scale-dependencies-were-moved-to-ink-entrance-crate" class="hash-link" aria-label="Direct link to scale-dependencies-were-moved-to-ink-entrance-crate" title="Direct link to scale-dependencies-were-moved-to-ink-entrance-crate">​</a></h3>
<p>This change was done to ensure that you always use the correct scale dependency versions
with an ink! version. The relevant PR is <a href="https://github.com/use-ink/ink/pull/1890" target="_blank" rel="noopener noreferrer">#1890</a>.</p>
<p>We removed the requirement for contracts to have direct dependencies on <code>parity-scale-codec</code>
and <code>scale-info</code> in their <code>Cargo.toml</code>.
You can now remove those dependencies from your contracts <code>Cargo.toml</code>:</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">ink = { version = &quot;4.3&quot;, default-features = false }</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">-scale = { package = &quot;parity-scale-codec&quot;, version = &quot;3&quot;, default-features = false, features = [&quot;derive&quot;] }</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">-scale-info = { version = &quot;2.6&quot;, default-features = false, features = [&quot;derive&quot;], optional = true }</span><br></span></code></pre></div></div>
<p>Both crates have been re-exported from the <code>ink</code> umbrella crate: <code>ink::scale_info</code> and <code>ink::scale</code>.</p>
<p>We created a convenience macro to derive the re-exported traits <code>ink::scale::Encode</code>,
<code>ink::scale::Decode</code> and <code>ink::scale_info::TypeInfo</code>.</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token comment" style="color:#6c6783">// Previously</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c4b9fe">#[scale::Encode, scale::Decode)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c4b9fe">#[cfg_attr(feature = </span><span class="token attribute attr-name string" style="color:#ffcc99">&quot;std&quot;</span><span class="token attribute attr-name" style="color:#c4b9fe">, derive(::scale_info::TypeInfo))]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">enum</span><span class="token plain"> </span><span class="token type-definition class-name">Error</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c4b9fe">#[ink::scale_derive(Encode, Decode, TypeInfo)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">enum</span><span class="token plain"> </span><span class="token type-definition class-name">Error</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre></div></div>
<p>The documentation of the macro can be found <a href="https://docs.rs/ink/5.0.0/ink/attr.scale_derive.html" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="wildcard-selectors-only-one-other-message-is-allowed-in-the-contract-besides-the-wildcard-selector">Wildcard selectors: only one other message is allowed in the contract besides the wildcard selector<a href="#wildcard-selectors-only-one-other-message-is-allowed-in-the-contract-besides-the-wildcard-selector" class="hash-link" aria-label="Direct link to Wildcard selectors: only one other message is allowed in the contract besides the wildcard selector" title="Direct link to Wildcard selectors: only one other message is allowed in the contract besides the wildcard selector">​</a></h3>
<p>Following <a href="https://blog.openzeppelin.com/security-review-ink-cargo-contract" target="_blank" rel="noopener noreferrer">our security review by OpenZeppelin</a>,
we&#x27;ve tightened the usage of wildcard selectors.
With ink! 5.0 we allow only exactly one other contract message with a well-known reserved
selector to be defined. In ink! 4.x, more than one other message was allowed.</p>
<p>Read more in <a href="https://github.com/use-ink/ink/pull/1708" target="_blank" rel="noopener noreferrer">the PR</a> and <a href="https://github.com/use-ink/ink/issues/1676" target="_blank" rel="noopener noreferrer">IIP-2: Limit contracts with a wildcard selector to one other message</a>.</p>
<p>The proposal is to restrict contracts with a wildcard selector to only have one other message
with a reserved/well-known selector. This guarantees that there are no selector clashes,
either by chance or malicious intent, and that the Proxy will only handle messages intended for it.</p>
<p>If a contract uses a wildcard selector <code>#[ink(message, payable, selector = _)]</code> it <em>MAY</em> define one
other message. This message <em>MUST</em> use the reserved selector <code>@</code>.
This selector <em>MUST</em> only be used in conjunction with a wildcard selector.</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token comment" style="color:#6c6783">/// Handles any message with no matching selector in this proxy contract</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c4b9fe">#[ink(message, selector = _)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#9a86fd">fallback</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token keyword" style="color:#ffcc99">self</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// forward call to the &quot;logic&quot; contract which actually executes the call</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c4b9fe">#[ink::scale_derive(Decode)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">enum</span><span class="token plain"> </span><span class="token type-definition class-name">ProxyMessage</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token class-name">UpgradeContract</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Hash</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">/// One other message allowed to handle messages.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">/// Fails to compile unless `@` is used as the selector.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c4b9fe">#[ink(message, selector = @)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#9a86fd">handler</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token keyword" style="color:#ffcc99">self</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token class-name">ProxyMessage</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token keyword" style="color:#ffcc99">match</span><span class="token plain"> msg </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token class-name">ProxyMessage</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">hash</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">/// An additional message. Fails to compile when uncommented.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// #[ink(message)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// pub fn additional_message(&amp;self, msg: ProxyMessage) {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">//    match msg {</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">//        ProxyMessage(hash) =&gt; ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">//    }</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// }</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="events-20">Events 2.0<a href="#events-20" class="hash-link" aria-label="Direct link to Events 2.0" title="Direct link to Events 2.0">​</a></h3>
<p>In prior ink! versions, events were defined inside the <code>#[ink::contract]</code> macro.
With ink! 5.0 we decouple events from the <code>#[ink::contract]</code> macro,
allowing events to be shared between contracts.
We&#x27;ve updated <a href="/docs/v6/basics/events">the Events documentation page</a> accordingly.</p>
<p>The syntax of defining events within the main <code>#[ink::contract]</code> macro will continue to work,
no code changes in existing contracts are required to update to the new syntax.</p>
<div class="admonition-wrap-caution admonition-wrap p-[5px] rounded-[12px] border border-solid my-2 border-l-[5px]"><div class="theme-admonition theme-admonition-caution admonition_ryXn alert alert--warning"><div class="admonitionHeading_bY5t"><span class="admonitionIcon_WwqN"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256"><path d="M116,132V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0ZM236,91.55v72.9a19.86,19.86,0,0,1-5.86,14.14l-51.55,51.55A19.85,19.85,0,0,1,164.45,236H91.55a19.85,19.85,0,0,1-14.14-5.86L25.86,178.59A19.86,19.86,0,0,1,20,164.45V91.55a19.86,19.86,0,0,1,5.86-14.14L77.41,25.86A19.85,19.85,0,0,1,91.55,20h72.9a19.85,19.85,0,0,1,14.14,5.86l51.55,51.55A19.86,19.86,0,0,1,236,91.55Zm-24,1.66L162.79,44H93.21L44,93.21v69.58L93.21,212h69.58L212,162.79ZM128,156a16,16,0,1,0,16,16A16,16,0,0,0,128,156Z"></path></svg></span>caution</div><div class="admonitionContent_Q9KL"><p>The topic calculation changed in general, so also for events that are declared inside the
<code>#[ink::contract]</code> macro!</p><p>This is a breaking change for any client code which uses topics to filter events.</p><p>Please see <a href="https://github.com/use-ink/ink/pull/1827" target="_blank" rel="noopener noreferrer">#1827</a> for details.</p></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="custom-signature-topics">Custom signature topics<a href="#custom-signature-topics" class="hash-link" aria-label="Direct link to Custom signature topics" title="Direct link to Custom signature topics">​</a></h4>
<p>In <a href="https://github.com/use-ink/ink/pull/2031" target="_blank" rel="noopener noreferrer">#2031</a> we introduced an
optional attribute <code>signature_topic</code> to the <code>#[ink::event]</code> and <code>#[ink(event)]</code> macros.
It can be used to specify the signature topic for a specific event manually, instead of the
automatic topic calculation.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="no-more-unchecked-arithmetic">No more unchecked arithmetic<a href="#no-more-unchecked-arithmetic" class="hash-link" aria-label="Direct link to No more unchecked arithmetic" title="Direct link to No more unchecked arithmetic">​</a></h3>
<p>Unchecked arithmetic operations in a contract are no longer supported for arithmetic
safety reasons. Compiling a contract that contains those will fail gracefully.</p>
<p>If you haven&#x27;t already done, you now need to handle overflows that could occur.
Rust supports different possibilities of doing so (saturating, &quot;wrap around&quot;,
and unchecked arithmetic operations) .
See <a href="https://doc.rust-lang.org/book/ch03-02-data-types.html#scalar-types" target="_blank" rel="noopener noreferrer">this</a> section
of the Rust Programming Language for a thorough explanation on how to do safe arithmetic
operations in Rust.</p>
<p>This change was introduced in <a href="https://github.com/use-ink/ink/pull/1831" target="_blank" rel="noopener noreferrer">#1831</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="fail-when-decoding-from-storage-and-not-all-bytes-consumed">Fail when decoding from storage and not all bytes consumed<a href="#fail-when-decoding-from-storage-and-not-all-bytes-consumed" class="hash-link" aria-label="Direct link to Fail when decoding from storage and not all bytes consumed" title="Direct link to Fail when decoding from storage and not all bytes consumed">​</a></h3>
<p>If a contract previously relied on successful decoding which does not consume all bytes,
then recompiling with a version of ink! which includes this change will cause that contract
to trap at runtime when attempting to decode.</p>
<p>A simple example would be if a storage cell contains some bytes which were in the first place
an encoded <code>u32</code>. If the contract attempts to decode those into a <code>u8</code>
this would previously have succeeded, now the contract would trap.</p>
<p>Here&#x27;s a code example of behavior that previously worked for ink! 4.x, but
would error now:</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> key </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token number" style="color:#e09142">0u32</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> value </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token number" style="color:#e09142">0x42</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">32</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token namespace" style="opacity:0.7">ink</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token namespace" style="opacity:0.7">env</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">set_contract_storage</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token plain">key</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;</span><span class="token plain">value</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Only attempt to read the first byte (the `u8`) of the storage value data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> _loaded_value</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token class-name">Option</span><span class="token operator" style="color:#e09142">&lt;</span><span class="token keyword" style="color:#ffcc99">u8</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ink</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token namespace" style="opacity:0.7">env</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">get_contract_storage</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token plain">key</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">map_err</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token closure-params">e</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token plain"> </span><span class="token macro property" style="color:#9a86fd">format!</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;get_contract_storage failed: {:?}&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> e</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token operator" style="color:#e09142">?</span><span class="token punctuation" style="color:#6c6783">;</span><br></span></code></pre></div></div>
<p>We introduced this change in <a href="https://github.com/use-ink/ink/pull/1897" target="_blank" rel="noopener noreferrer">#1897</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="ink_e2e-api-changes">[ink_e2e] API Changes<a href="#ink_e2e-api-changes" class="hash-link" aria-label="Direct link to [ink_e2e] API Changes" title="Direct link to [ink_e2e] API Changes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="builder-api">Builder API<a href="#builder-api" class="hash-link" aria-label="Direct link to Builder API" title="Direct link to Builder API">​</a></h4>
<p>In <a href="https://github.com/use-ink/ink/pull/1917" target="_blank" rel="noopener noreferrer">#1917</a> we reworked the E2E API with
a builder API.
<code>instantiate</code>, <code>call</code> and <code>upload</code> will now return a builder instance. You can
specify optional arguments with builder methods, and submit the call for on-chain
execution with the <code>.submit()</code> method, or dry-run it with <code>dry_run()</code>.</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> contract </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> client</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">instantiate</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;flipper&quot;</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;</span><span class="token namespace" style="opacity:0.7">ink_e2e</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">alice</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;</span><span class="token keyword" style="color:#ffcc99">mut</span><span class="token plain"> constructor</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">submit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token keyword" style="color:#ffcc99">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">expect</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;instantiate failed&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">mut</span><span class="token plain"> call_builder </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> contract</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">call_builder</span><span class="token punctuation" style="color:#6c6783">::</span><span class="token operator" style="color:#e09142">&lt;</span><span class="token class-name">Flipper</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> get </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> call_builder</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">get</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> get_res </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">call</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token namespace" style="opacity:0.7">ink_e2e</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">bob</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">&amp;</span><span class="token plain">get</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">dry_run</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token keyword" style="color:#ffcc99">await</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token macro property" style="color:#9a86fd">assert!</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token macro property" style="color:#9a86fd">matches!</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">get_res</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">return_value</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> </span><span class="token boolean" style="color:#ffcc99">false</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="extra-gas-margin">Extra gas margin<a href="#extra-gas-margin" class="hash-link" aria-label="Direct link to Extra gas margin" title="Direct link to Extra gas margin">​</a></h4>
<p>As part of <a href="https://github.com/use-ink/ink/pull/1917" target="_blank" rel="noopener noreferrer">#1917</a> we added the possibility
to specify a gas margin (in percentage) as part of the on-chain call.</p>
<p>There are cases when gas estimates may not necessarily be accurate enough due to the complexity
of the smart contract logic that adds additional overhead and gas consumption.
Therefore, it is helpful to allow to specify an extra portion of the gas to be added to the
limit (i.e. 5%, 10%).</p>
<p>The method <code>.extra_gas_portion(margin: u64)</code> method is part of the builder API:</p>
<ul>
<li><a href="https://docs.rs/ink_e2e/5.0.0/ink_e2e/struct.InstantiateBuilder.html#method.extra_gas_portion" target="_blank" rel="noopener noreferrer"><code>ink_e2e::InstantiateBuilder::extra_gas_portion</code></a></li>
<li><a href="https://docs.rs/ink_e2e/5.0.0/ink_e2e/struct.CallBuilder.html#method.extra_gas_portion" target="_blank" rel="noopener noreferrer"><code>ink_e2e::CallBuilder::extra_gas_portion</code></a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="improved-call-api">Improved <code>call()</code> API<a href="#improved-call-api" class="hash-link" aria-label="Direct link to improved-call-api" title="Direct link to improved-call-api">​</a></h4>
<p>We removed the <code>build_message()</code> function with its unhandy callback.</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token comment" style="color:#6c6783">// Previously</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> first_insert </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ink_e2e</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">build_message</span><span class="token punctuation" style="color:#6c6783">::</span><span class="token operator" style="color:#e09142">&lt;</span><span class="token class-name">MappingsRef</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">contract_id</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">call</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token closure-params">contract</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token plain"> contract</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">insert_balance</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token number" style="color:#e09142">1_000</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> first_insert </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ink_e2e</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">build_message</span><span class="token punctuation" style="color:#6c6783">::</span><span class="token operator" style="color:#e09142">&lt;</span><span class="token class-name">MappingsRef</span><span class="token operator" style="color:#e09142">&gt;</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">contract_id</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">call</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">insert_balance</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token number" style="color:#e09142">1_000</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><br></span></code></pre></div></div>
<p>See <a href="https://github.com/use-ink/ink/pull/1782" target="_blank" rel="noopener noreferrer">#1782</a> for more details.</p>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="removed-additional_contracts-parameter">Removed <code>additional_contracts</code> parameter<a href="#removed-additional_contracts-parameter" class="hash-link" aria-label="Direct link to removed-additional_contracts-parameter" title="Direct link to removed-additional_contracts-parameter">​</a></h4>
<p><code>additional_contracts</code> parameter which is part of <code>#[ink_e2e:test]</code> has been removed in <a href="https://github.com/use-ink/ink/pull/2098" target="_blank" rel="noopener noreferrer">#2098</a>.
This information is now implied from the contract&#x27;s manifest.
Simply, add the other contract as dependency with the <code>ink-as-a-dependency</code> feature enabled.
The test will detect the contract and build it as part of the test.</p>
<h4></h4>
<p>In <a href="https://github.com/use-ink/ink/pull/2076" target="_blank" rel="noopener noreferrer">#2076</a>, we&#x27;ve added a new
<a href="https://docs.rs/ink_e2e/5.0.0/ink_e2e/trait.ContractsBackend.html#method.remove_code" target="_blank" rel="noopener noreferrer"><code>remove_code</code></a>
function to the E2E API:</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> contract </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> client</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">remove_code</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token namespace" style="opacity:0.7">ink_e2e</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">alice</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> code_hash</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token comment" style="color:#6c6783">// Submit the call for on-chain execution.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">submit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token keyword" style="color:#ffcc99">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">expect</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token string" style="color:#ffcc99">&quot;remove failed&quot;</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="new-data-structure-storagevec">New Data Structure: <code>StorageVec</code><a href="#new-data-structure-storagevec" class="hash-link" aria-label="Direct link to new-data-structure-storagevec" title="Direct link to new-data-structure-storagevec">​</a></h3>
<p>We&#x27;ve added a <code>Vec</code>-like data structure, built on top of Mapping.</p>
<p>This allows to retrieve elements from a vector and grow it without
having to load and push all elements.
For <code>Vec</code>, the cost of reading or writing a single element grows linearly corresponding
to the number of elements in the vector (its length). Additionally, the maximum capacity
of the whole vector is limited by the size of <a href="https://github.com/use-ink/ink/blob/master/ARCHITECTURE.md#communication-with-the-pallet" target="_blank" rel="noopener noreferrer">ink!&#x27;s static buffer</a>
used during ABI encoding and decoding (default 16 KiB).
<code>StorageVec</code> on the other hand allows to access each element individually.</p>
<p>With a <code>Vec</code> it&#x27;s possible to e.g. introduce a security issue in your contract
where an attacker can fill the <code>Vec</code>, making it very costly for other users to
access it or write to it.</p>
<p>You can find verbatim documentation on <code>StorageVec</code> <a href="/docs/v6/datastructures/storagevec">here</a>.
The page explains when to use <code>StorageVec</code> and when not.
The Rust docs can be found <a href="https://docs.rs/ink/5.0.0/ink/storage/struct.StorageVec.html" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="fallible-methods-for-lazy-mapping-storagevec">Fallible methods for <code>Lazy</code>, <code>Mapping</code>, <code>StorageVec</code><a href="#fallible-methods-for-lazy-mapping-storagevec" class="hash-link" aria-label="Direct link to fallible-methods-for-lazy-mapping-storagevec" title="Direct link to fallible-methods-for-lazy-mapping-storagevec">​</a></h3>
<p>In <a href="https://github.com/use-ink/ink/pull/1910" target="_blank" rel="noopener noreferrer">#1910</a> we added <code>try_*</code> methods for
reading and writing <code>Lazy</code> and <code>Mapping</code> values to and from storage.
The try methods correspond to <code>Mapping::{insert, get, take}</code>, <code>Lazy::{set, get}</code>.
For <code>StorageVec::{peek, get, set, pop, push}</code> we added <code>try_*</code> methods in
<a href="https://github.com/use-ink/ink/pull/1995" target="_blank" rel="noopener noreferrer">#1995</a>.</p>
<p>Please see the individual Rust docs for these new methods:</p>
<ul>
<li><a href="https://docs.rs/ink/5.0.0/ink/storage/struct.StorageVec.html" target="_blank" rel="noopener noreferrer"><code>StorageVec</code></a></li>
<li><a href="https://docs.rs/ink/5.0.0/ink/storage/struct.Lazy.html" target="_blank" rel="noopener noreferrer"><code>Lazy</code></a></li>
<li><a href="https://docs.rs/ink/5.0.0/ink/storage/struct.Mapping.html" target="_blank" rel="noopener noreferrer"><code>Mapping</code></a>. For <code>Mapping</code>, the encoded size of the key is also accounted for.</li>
</ul>
<p>You should use the <code>try_*</code> methods for dynamically sized values, unless you made sure
otherwise they will fit into the static buffer. The <a href="https://github.com/use-ink/ink/blob/master/ARCHITECTURE.md#communication-with-the-pallet" target="_blank" rel="noopener noreferrer">static buffer in ink!</a>
is 16 kB by default.</p>
<p>We added a lint to <code>cargo-contract</code> 4.0 that will detect
potentially unsafe uses of methods for which there are safer alternatives:
<a href="/docs/v6/linter/rules/non_fallible_api"><code>non_fallible_api</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="chain-extension-api-changed--support-for-multiple-chain-extensions">Chain Extension API changed + Support for multiple chain extensions<a href="#chain-extension-api-changed--support-for-multiple-chain-extensions" class="hash-link" aria-label="Direct link to Chain Extension API changed + Support for multiple chain extensions" title="Direct link to Chain Extension API changed + Support for multiple chain extensions">​</a></h3>
<p>With <a href="https://github.com/use-ink/ink/pull/1958" target="_blank" rel="noopener noreferrer">#1958</a> we added support for interacting with
multiple chain extensions from ink!. This is a breaking change.</p>
<p>You can now e.g. have a contract that utilizes a PSP22 chain extension together with one
for random numbers.</p>
<p>The syntax for chain extension functions changed slightly:</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">-#[ink(extension = 0xfecb)]</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+#[ink(function = 0xfecb)]</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">fn foo() {}</span><br></span></code></pre></div></div>
<p>The argument type changed from <code>u32</code> to <code>u16</code>:</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">-/// `#[ink(extension = N: u32)]`</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">-Extension,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+/// `#[ink(function = N: u16)]`</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+Function,</span><br></span></code></pre></div></div>
<p>The top level macro <code>#[ink::chain_extension]</code> now <em>requires</em> an <code>(extension = N: u16)</code> argument to support multiple chain extensions.
If you are using only one extension, the ID can be any <code>u16</code> number,
otherwise please consult the <a href="https://use.ink/docs/v5/macros-attributes/chain-extension" target="_blank" rel="noopener noreferrer"><code>#[ink::chain_extension]</code> macro documentation</a>.</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">-#[ink::chain_extension]</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+#[ink::chain_extension(extension = 1)]</span><br></span></code></pre></div></div>
<div class="admonition-wrap-note admonition-wrap p-[5px] rounded-[12px] border border-solid my-2 border-l-[5px]"><div class="theme-admonition theme-admonition-note admonition_ryXn alert alert--secondary"><div class="admonitionHeading_bY5t"><span class="admonitionIcon_WwqN"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256"><path d="M164,216a12,12,0,0,1-12,12H104a12,12,0,0,1,0-24h48A12,12,0,0,1,164,216Zm76.26-29.9L235.6,178a12,12,0,1,0-20.79,12l4.65,8.08a3.56,3.56,0,0,1,0,3.73,4.46,4.46,0,0,1-4,2.2H192a12,12,0,0,0,0,24h23.46a28.31,28.31,0,0,0,24.79-14.19A27.47,27.47,0,0,0,240.26,186.1ZM64,204H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L41.19,190A12,12,0,1,0,20.4,178l-4.66,8.09a27.47,27.47,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228H64a12,12,0,0,0,0-24Zm138.17-48a12,12,0,0,0,10.39-18l-23-40a12,12,0,0,0-20.8,12l23,40A12,12,0,0,0,202.18,156ZM166.5,58,152.81,34.23a28.74,28.74,0,0,0-49.62,0L89.5,58a12,12,0,1,0,20.79,12L124,46.2a4.75,4.75,0,0,1,8,0L145.71,70a12,12,0,0,0,10.41,6,11.87,11.87,0,0,0,6-1.6A12,12,0,0,0,166.5,58ZM82.85,93.6A12,12,0,0,0,66.46,98l-23,40a12,12,0,0,0,20.8,12l23-40A12,12,0,0,0,82.85,93.6Z"></path></svg></span>note</div><div class="admonitionContent_Q9KL"><p>If the chain extension was not used in a tuple in the runtime configuration,
<code>extension = N: u16</code> can take any <code>u16</code> number.</p></div></div></div>
<p>A migration in most cases should just be to rename <code>#[ink(extension = …)]</code> to
<code>#[ink(function = …)]</code>, and specifying <code>extension</code> argument in top level macro.</p>
<p>We added an example contract that illustrates the usage of multiple chain extensions
in one contract:
<a href="https://github.com/use-ink/ink-examples/tree/main/combined-extension" target="_blank" rel="noopener noreferrer"><code>combined-extension</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="call-and-instantiate-v2"><code>call</code> and <code>instantiate</code> v2<a href="#call-and-instantiate-v2" class="hash-link" aria-label="Direct link to call-and-instantiate-v2" title="Direct link to call-and-instantiate-v2">​</a></h3>
<p>The functions to instantiate and call other contracts got an upgrade in the
<code>polkadot-v1.8.0</code> release (in the <a href="https://github.com/paritytech/polkadot-sdk/commit/d250a6e4270a77f28e2737a4faa3fb78c8ea7a85" target="_blank" rel="noopener noreferrer"><code>d250a6</code></a> commit),
The new v2 of them allows passing both <code>Weight</code> parts (<code>ref_time_limit</code> and <code>proof_size_limit</code>),
as well as the <code>storage_deposit_limit</code>.</p>
<p>The previous v1 <code>call</code> and <code>instantiate</code> functions only provided a single <code>gas_limit</code> parameter,
which was used as the value for <code>ref_time_limit</code>.
You can still use these <code>v1</code> versions.
For <code>call</code> on a call builder obtained through
<a href="https://docs.rs/ink_env/5.0.0/ink_env/call/fn.build_call.html" target="_blank" rel="noopener noreferrer"><code>build_call</code></a>:</p>
<div class="language-text codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-text codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">call_builder</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  .call_v1()</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  .gas_limit(ref_time_limit)</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  .invoke();</span><br></span></code></pre></div></div>
<p>For <code>instantiate</code> on <a href="https://docs.rs/ink_env/5.0.0/ink_env/call/fn.build_create.html" target="_blank" rel="noopener noreferrer"><code>build_create</code></a>:</p>
<p>The new <code>v2</code> parameters can be set like so:</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">call_builder </span><span class="token comment" style="color:#6c6783">// or `create_builder`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">ref_time_limit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">ref_time_limit</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">proof_size_limit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">proof_size_limit</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">storage_deposit_limit</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token plain">storage_deposit_limit</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">invoke</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><br></span></code></pre></div></div>
<p>You can find out if a chain supports the new <code>v2</code> functions for call/instantiate by
querying the <code>contracts::apiVersion</code> constant. It has to be <code>1</code>.
You can use the <a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer">polakdot.js app</a> to do this:
Developer » Chain State » Constants » <code>contracts</code> » <code>apiVersion</code> » Click on the <code>+</code> on the right.</p>
<img src="/img/api-version-1.png">
<p>At the time of the ink! v5 release (March 2024) no parachain with ink! support
had upgraded to <code>polkadot-v1.8.0</code> yet.</p>
<p>Please note that if you are using trait definitions for cross-contract calls,
direct calls from the <code>contract_ref!</code> macro are only supported with the <code>call_v2</code>.
Otherwise, you need to get the <code>CallBuilder</code> from the structure
and build the call manually.</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token keyword" style="color:#ffcc99">type</span><span class="token plain"> </span><span class="token type-definition class-name">Erc20Wrapper</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> </span><span class="token macro property" style="color:#9a86fd">contract_ref!</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token class-name">Erc20</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> erc20</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token class-name">Erc20Wrapper</span><span class="token plain"> </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> new_erc20</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">into</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">let</span><span class="token plain"> erc20_builder </span><span class="token operator" style="color:#e09142">=</span><span class="token plain"> erc20</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">call</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">erc20_builder</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">total_supply</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">call_v1</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">invoke</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="metadata-changes">Metadata Changes<a href="#metadata-changes" class="hash-link" aria-label="Direct link to Metadata Changes" title="Direct link to Metadata Changes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="events-20-1">Events 2.0<a href="#events-20-1" class="hash-link" aria-label="Direct link to Events 2.0" title="Direct link to Events 2.0">​</a></h4>
<p>See <a href="https://github.com/use-ink/ink/pull/1827" target="_blank" rel="noopener noreferrer">#1827</a> for the full details.
Two fields werere added to the objects in the <code>events</code> array:
<code>module_path</code> and <code>signature_topic</code>.</p>
<p>Previously the order of the events in the <code>events</code> array was significant (i.e. the first
one had an implied index of <code>0</code>), and this index could be used to determine which event
to decode.
Now that is replaced by the <code>signature_topic</code>, and the order of the events in the metadata
no longer has any significance.</p>
<p>See the section &quot;<a href="#events-20">Events 2.0</a>&quot; on this page for more info.</p>
<p>ink! 4.0:</p>
<div class="language-json codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-json codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">   </span><span class="token property" style="color:#9a86fd">&quot;events&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token property" style="color:#9a86fd">&quot;args&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"> ... </span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token property" style="color:#9a86fd">&quot;docs&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token plain"> ... </span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        </span><span class="token property" style="color:#9a86fd">&quot;label&quot;</span><span class="token operator" style="color:#e09142">:</span><span class="token plain"> </span><span class="token string" style="color:#ffcc99">&quot;Transfer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      </span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  </span><span class="token punctuation" style="color:#6c6783">]</span><br></span></code></pre></div></div>
<p>ink! 5.0:</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">    &quot;events&quot;: [</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        &quot;args&quot;: [ ... ],</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        &quot;docs&quot;: [ ... ],</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        &quot;label&quot;: &quot;...&quot;,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+       &quot;module_path&quot;: &quot;erc20::erc20&quot;,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+       &quot;signature_topic&quot;: &quot;0xb5b61a3e6a21a16be4f044b517c28ac692492f73c5bfd3f60178ad98c767f4cb&quot;</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">  ]</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="new-field-staticbuffersize">New field: <code>staticBufferSize</code><a href="#new-field-staticbuffersize" class="hash-link" aria-label="Direct link to new-field-staticbuffersize" title="Direct link to new-field-staticbuffersize">​</a></h4>
<p>With <a href="https://github.com/use-ink/ink/pull/1880" target="_blank" rel="noopener noreferrer">#1880</a> we added a <code>&quot;staticBufferSize&quot;</code> field to
the metadata file. The unit is bytes.</p>
<p>See the section &quot;<a href="#buffer-size-can-be-customized">Buffer size can be customized</a>&quot; on this page for
more info.</p>
<p>Example:</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">      &quot;maxEventTopics&quot;: 4,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+     &quot;staticBufferSize&quot;: 16384,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">      &quot;timestamp&quot;: { ... }</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_mSTA" id="metadata-storage-keys-encoding-change">Metadata storage keys encoding change<a href="#metadata-storage-keys-encoding-change" class="hash-link" aria-label="Direct link to Metadata storage keys encoding change" title="Direct link to Metadata storage keys encoding change">​</a></h4>
<p>Storage keys used to access storage data are SCALE encoded. Previously,
the contract metadata used big endian encoding to represent storage keys.
With the ink! 5.0 release, these encoding formats have been aligned,
and SCALE encoding (little endian) is now used for the metadata storage keys.
This is a breaking change, and client tools that use the storage keys from contract
metadata will need to adapt accordingly.</p>
<p>Please see: <a href="https://github.com/use-ink/ink/pull/2048" target="_blank" rel="noopener noreferrer">#2048</a> for details.</p>
<p>Example:</p>
<div class="language-diff codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-diff codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token plain">    &quot;storage&quot;: {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        &quot;root&quot;: {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        &quot;layout&quot;: {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            &quot;struct&quot;: {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            &quot;fields&quot;: [</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                &quot;layout&quot;: {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    &quot;leaf&quot;: {</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">-                   &quot;key&quot;: &quot;0x00000159&quot;,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+                   &quot;key&quot;: &quot;0x59010000&quot;,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    &quot;ty&quot;: 0</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                &quot;name&quot;: &quot;value&quot;</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            &quot;name&quot;: &quot;Flipper&quot;</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">-       &quot;root_key&quot;: &quot;0x00000159&quot;,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">+       &quot;root_key&quot;: &quot;0x59010000&quot;,</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        &quot;ty&quot;: 1</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    },</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_mSTA" id="interesting-new-features">Interesting New Features<a href="#interesting-new-features" class="hash-link" aria-label="Direct link to Interesting New Features" title="Direct link to Interesting New Features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="end-to-end-testing-with-a-chain-snapshot">End-To-End testing with a chain snapshot<a href="#end-to-end-testing-with-a-chain-snapshot" class="hash-link" aria-label="Direct link to End-To-End testing with a chain snapshot" title="Direct link to End-To-End testing with a chain snapshot">​</a></h3>
<p>With ink! 5.0 we introduce the possibility of running your tests against the
fork (i.e. snapshot) of a live chain.</p>
<p>See <a href="/docs/v6/contract-testing/chain-snapshot">this page</a> in our documentation for details.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="new-lints">New lints<a href="#new-lints" class="hash-link" aria-label="Direct link to New lints" title="Direct link to New lints">​</a></h3>
<p>The new lints are:</p>
<ul>
<li><a href="/docs/v6/linter/rules/no_main"><code>no_main</code></a>: enforces <code>no_main</code> for contracts.</li>
<li><a href="/docs/v6/linter/rules/primitive_topic"><code>primitive_topic</code></a>: no number types are allowed as event topics.</li>
<li><a href="/docs/v6/linter/rules/storage_never_freed"><code>storage_never_freed</code></a>: what is written into storage can be removed again.</li>
<li><a href="/docs/v6/linter/rules/strict_balance_equality"><code>strict_balance_equality</code></a>: detects usage of strict balance equality checks, a common smart contract vulnerability.</li>
<li><a href="/docs/v6/linter/rules/non_fallible_api"><code>non_fallible_api</code></a>: detects the usage of potentially unsafe methods for which there are safer alternatives.</li>
</ul>
<p>With <code>cargo-contract</code> 4.0 we added a couple new lints for common smart contract issues
and best practices.
You can run the linter via <code>cargo contract build --lint</code>.</p>
<p>Details on each lint can be found <a href="/docs/v6/linter/overview">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="new-cargo-contract-commands">New <code>cargo-contract</code> commands<a href="#new-cargo-contract-commands" class="hash-link" aria-label="Direct link to new-cargo-contract-commands" title="Direct link to new-cargo-contract-commands">​</a></h3>
<p>We added a bunch of helpful new commands to <code>cargo-contract</code> 4.0.
For all these commands you can also supply the <code>--help</code> cli flag to get more
info (e.g. <code>cargo contract storage --help</code>).</p>
<ul>
<li><code>cargo contract verify</code>: contract verification (<a href="https://github.com/use-ink/cargo-contract/pull/1404" target="_blank" rel="noopener noreferrer">#1404</a>, <a href="https://github.com/use-ink/cargo-contract/pull/1306" target="_blank" rel="noopener noreferrer">#1306</a>)</li>
<li><code>cargo contract info</code> now outputs the language of the deployed contract, using a heuristic (<a href="https://github.com/use-ink/cargo-contract/pull/1329" target="_blank" rel="noopener noreferrer">#1329</a>)</li>
<li><code>cargo contract info --binary</code>: outputs the on-chain Wasm of the contract (<a href="https://github.com/use-ink/cargo-contract/pull/1311/" target="_blank" rel="noopener noreferrer">#1311</a>)</li>
<li><code>cargo contract info --all</code>: displays all addresses of deployed contracts on a particular chain (<a href="https://github.com/use-ink/cargo-contract/pull/1319" target="_blank" rel="noopener noreferrer">#1319</a>)</li>
<li><code>cargo contract storage</code>: displays the storage of an on-chain contract (<a href="https://github.com/use-ink/cargo-contract/pull/1395" target="_blank" rel="noopener noreferrer">#1395</a>, <a href="https://github.com/use-ink/cargo-contract/pull/1414" target="_blank" rel="noopener noreferrer">#1414</a>)</li>
</ul>
<img src="/img/cargo-contract-storage.png">
<br>
<img src="/img/cargo-contract-info.png">
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="alternative-off-chain-e2e-testing-backend-support-drink">Alternative off-chain E2E testing backend support: DRink!<a href="#alternative-off-chain-e2e-testing-backend-support-drink" class="hash-link" aria-label="Direct link to Alternative off-chain E2E testing backend support: DRink!" title="Direct link to Alternative off-chain E2E testing backend support: DRink!">​</a></h3>
<p>DRink! is a toolbox for ink! developers that allows for testing your contracts
without any running node.</p>
<p>It has a number of features that are pretty great:</p>
<ul>
<li>deploy and call your contracts synchronously, <em>without any delays</em> related to block production or networking.</li>
<li>enhanced debugging and call tracing.</li>
<li>supports <em>arbitrary runtime</em> configurations, including custom chain extensions and runtime calls.</li>
<li>full control over runtime state, including block number, timestamp, etc.</li>
</ul>
<p>See the <a href="https://github.com/inkdevhub/drink" target="_blank" rel="noopener noreferrer">DRink!</a> page for more details.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="contract-verification">Contract Verification<a href="#contract-verification" class="hash-link" aria-label="Direct link to Contract Verification" title="Direct link to Contract Verification">​</a></h3>
<p>We added a bunch of helpful documentation and <code>cargo-contract</code> commands for
contract verification. Please see the page on contract verification under &quot;Basics&quot;
for more details.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call">We improved the contract example illustrating upgradeable contracts via <code>delegate_call</code><a href="#we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call" class="hash-link" aria-label="Direct link to we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call" title="Direct link to we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call">​</a></h3>
<p>See <a href="https://github.com/use-ink/ink-examples/tree/main/upgradeable-contracts" target="_blank" rel="noopener noreferrer">here</a>
for the contract example.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="upgradeable-contracts-delegate_dependency">Upgradeable Contracts: <code>delegate_dependency</code><a href="#upgradeable-contracts-delegate_dependency" class="hash-link" aria-label="Direct link to upgradeable-contracts-delegate_dependency" title="Direct link to upgradeable-contracts-delegate_dependency">​</a></h3>
<p>We&#x27;ve added support for two new host functions:</p>
<ul>
<li><code>lock_delegate_dependency</code>: prevents the code at the given code hash from being removed.</li>
<li><code>unlock_delegate_dependency</code>: releases the lock on preventing the code from being removed
from the current contract.</li>
</ul>
<p>Having a delegate dependency allows contracts to safely delegate to another <code>code_hash</code> with
the guarantee that it cannot be deleted.</p>
<p>We&#x27;ve updated the <a href="https://github.com/use-ink/ink-examples/tree/main/upgradeable-contracts#delegator" target="_blank" rel="noopener noreferrer"><code>upgradeable-contracts/delegator</code></a>
example to demonstrate these new calls.
For that purpose we&#x27;ve also added a <a href="https://docs.rs/ink_e2e/5.0.0/ink_e2e/trait.ContractsBackend.html#method.remove_code" target="_blank" rel="noopener noreferrer"><code>remove_code</code></a>
function to the E2E API.</p>
<p>These two functions are only available from <code>polkadot-1.8.0</code> on.
You can find out if a chain supports these new functions by
querying the <code>contracts::apiVersion</code> constant. It has to be <code>2</code>.
You can use the <a href="https://polkadot.js.org/apps/" target="_blank" rel="noopener noreferrer">polakdot.js app</a> to do this:
Developer » Chain State » Constants » <code>contracts</code> » <code>apiVersion</code> » Click on the <code>+</code> on the right.</p>
<img src="/img/api-version-2.png">
<p>At the time of the ink! v5 release (March 2024) no parachain with ink! support
had upgraded to <code>polkadot-v1.8.0</code> yet.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="we-made-set_code_hash-generic">We made <code>set_code_hash</code> generic<a href="#we-made-set_code_hash-generic" class="hash-link" aria-label="Direct link to we-made-set_code_hash-generic" title="Direct link to we-made-set_code_hash-generic">​</a></h3>
<p>The <code>self.env().set_code_hash()</code> method now accepts the <code>Hash</code> environment type instead
of a concrete <code>[u8; 32]</code>.</p>
<div class="language-rust codeBlockContainer_Wzms theme-code-block" style="--prism-background-color:#2a2734;--prism-color:#9a86fd"><div class="codeBlockContent_l36C"><pre tabindex="0" class="prism-code language-rust codeBlock_G1eo thin-scrollbar" style="background-color:#2a2734;color:#9a86fd"><code class="codeBlockLines_SGTf"><span class="token-line" style="color:#9a86fd"><span class="token comment" style="color:#6c6783">// Previously</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#9a86fd">set_code</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token keyword" style="color:#ffcc99">mut</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">self</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> code_hash</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">[</span><span class="token keyword" style="color:#ffcc99">u8</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"> </span><span class="token number" style="color:#e09142">32</span><span class="token punctuation" style="color:#6c6783">]</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token namespace" style="opacity:0.7">ink</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token namespace" style="opacity:0.7">env</span><span class="token namespace punctuation" style="opacity:0.7;color:#6c6783">::</span><span class="token function" style="color:#9a86fd">set_code_hash</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token plain">code_hash</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">unwrap_or_else</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token comment" style="color:#6c6783">// Now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token keyword" style="color:#ffcc99">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#9a86fd">set_code</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token keyword" style="color:#ffcc99">mut</span><span class="token plain"> </span><span class="token keyword" style="color:#ffcc99">self</span><span class="token punctuation" style="color:#6c6783">,</span><span class="token plain"> code_hash</span><span class="token punctuation" style="color:#6c6783">:</span><span class="token plain"> </span><span class="token class-name">Hash</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain">    </span><span class="token keyword" style="color:#ffcc99">self</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">env</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">set_code_hash</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token operator" style="color:#e09142">&amp;</span><span class="token plain">code_hash</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">.</span><span class="token function" style="color:#9a86fd">unwrap_or_else</span><span class="token punctuation" style="color:#6c6783">(</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:#6c6783">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#6c6783">{</span><span class="token punctuation" style="color:#6c6783">}</span><span class="token punctuation" style="color:#6c6783">)</span><span class="token punctuation" style="color:#6c6783">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9a86fd"><span class="token plain"></span><span class="token punctuation" style="color:#6c6783">}</span><br></span></code></pre></div></div>
<p>More details in <a href="https://github.com/use-ink/ink/pull/1906" target="_blank" rel="noopener noreferrer">#1906</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="buffer-size-can-be-customized">Buffer size can be customized<a href="#buffer-size-can-be-customized" class="hash-link" aria-label="Direct link to Buffer size can be customized" title="Direct link to Buffer size can be customized">​</a></h3>
<p>With <a href="https://github.com/use-ink/ink/pull/1869" target="_blank" rel="noopener noreferrer">#1869</a> we added a possibility
of setting a custom static buffer size for ink! to use.</p>
<p>ink! uses a static buffer for interacting with pallet-contracts, i.e. to move data
between <code>pallet-contracts</code> and a smart contract. The advantage of a static buffer
is that no gas-expensive heap allocations are necessary, all allocations are done
using simple pointer arithmetic.</p>
<p>The default static buffer size is 16 kB, which is enough for on-chain smart
contracts. However, the <a href="https://phala.network/" target="_blank" rel="noopener noreferrer">Phala Network</a> parachain on Polkadot
allows the deployment of ink! contracts off-chain. Hence, for their chain certain high
computation contracts might require a larger buffer size.</p>
<h3 class="anchor anchorWithStickyNavbar_mSTA" id="stabilized-call_runtime">Stabilized <code>call_runtime</code><a href="#stabilized-call_runtime" class="hash-link" aria-label="Direct link to stabilized-call_runtime" title="Direct link to stabilized-call_runtime">​</a></h3>
<p>We stabilized <code>call_runtime</code> in <a href="https://github.com/use-ink/ink/pull/1749" target="_blank" rel="noopener noreferrer">#1749</a>.
It can be used to call a runtime dispatchable from an ink! contract.</p>
<p>You can find a contract example and a comparison with chain extensions
<a href="https://github.com/use-ink/ink-examples/tree/main/call-runtime" target="_blank" rel="noopener noreferrer">here</a>.
We&#x27;ve added an example of how to end-to-end test
<code>call_runtime</code> <a href="https://github.com/use-ink/ink-examples/tree/main/e2e-call-runtime" target="_blank" rel="noopener noreferrer">here</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/use-ink/ink-docs/edit/master/docs/faq/migrating-from-ink-4-to-5.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_LNkX" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Ef1i"></div></div></footer></article><nav class="mt-12 bubble-box" aria-label="Docs pages"><span class="pagination-nav__info">Continue Learning</span><div class="grid w-full grid-cols-2 gap-4 [&amp;&gt;a]:!no-underline"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/v6/faq/migrating-from-ink-5-to-6"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Migration: ink! v5 → v6</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/v6/faq/migrating-from-ink-3-to-4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migration: ink! v3 → v4</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_xW5w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-upgrade" class="table-of-contents__link toc-highlight">How to upgrade</a></li><li><a href="#compatibility" class="table-of-contents__link toc-highlight">Compatibility</a><ul><li><a href="#substratepolkadot-sdk" class="table-of-contents__link toc-highlight">Substrate/Polkadot SDK</a></li><li><a href="#how-do-i-find-out-if-a-chain-is-compatible-with-ink-5" class="table-of-contents__link toc-highlight">How do I find out if a chain is compatible with ink! 5?</a></li><li><a href="#cargo-contract-40" class="table-of-contents__link toc-highlight"><code>cargo-contract</code> 4.0</a></li><li><a href="#tooling--libraries" class="table-of-contents__link toc-highlight">Tooling &amp; Libraries</a></li></ul></li><li><a href="#important-changes" class="table-of-contents__link toc-highlight">Important Changes</a><ul><li><a href="#scale-dependencies-were-moved-to-ink-entrance-crate" class="table-of-contents__link toc-highlight"><code>scale</code> dependencies were moved to <code>ink</code> entrance crate</a></li><li><a href="#wildcard-selectors-only-one-other-message-is-allowed-in-the-contract-besides-the-wildcard-selector" class="table-of-contents__link toc-highlight">Wildcard selectors: only one other message is allowed in the contract besides the wildcard selector</a></li><li><a href="#events-20" class="table-of-contents__link toc-highlight">Events 2.0</a></li><li><a href="#no-more-unchecked-arithmetic" class="table-of-contents__link toc-highlight">No more unchecked arithmetic</a></li><li><a href="#fail-when-decoding-from-storage-and-not-all-bytes-consumed" class="table-of-contents__link toc-highlight">Fail when decoding from storage and not all bytes consumed</a></li><li><a href="#ink_e2e-api-changes" class="table-of-contents__link toc-highlight">[ink_e2e] API Changes</a></li><li><a href="#new-data-structure-storagevec" class="table-of-contents__link toc-highlight">New Data Structure: <code>StorageVec</code></a></li><li><a href="#fallible-methods-for-lazy-mapping-storagevec" class="table-of-contents__link toc-highlight">Fallible methods for <code>Lazy</code>, <code>Mapping</code>, <code>StorageVec</code></a></li><li><a href="#chain-extension-api-changed--support-for-multiple-chain-extensions" class="table-of-contents__link toc-highlight">Chain Extension API changed + Support for multiple chain extensions</a></li><li><a href="#call-and-instantiate-v2" class="table-of-contents__link toc-highlight"><code>call</code> and <code>instantiate</code> v2</a></li><li><a href="#metadata-changes" class="table-of-contents__link toc-highlight">Metadata Changes</a></li></ul></li><li><a href="#interesting-new-features" class="table-of-contents__link toc-highlight">Interesting New Features</a><ul><li><a href="#end-to-end-testing-with-a-chain-snapshot" class="table-of-contents__link toc-highlight">End-To-End testing with a chain snapshot</a></li><li><a href="#new-lints" class="table-of-contents__link toc-highlight">New lints</a></li><li><a href="#new-cargo-contract-commands" class="table-of-contents__link toc-highlight">New <code>cargo-contract</code> commands</a></li><li><a href="#alternative-off-chain-e2e-testing-backend-support-drink" class="table-of-contents__link toc-highlight">Alternative off-chain E2E testing backend support: DRink!</a></li><li><a href="#contract-verification" class="table-of-contents__link toc-highlight">Contract Verification</a></li><li><a href="#we-improved-the-contract-example-illustrating-upgradeable-contracts-via-delegate_call" class="table-of-contents__link toc-highlight">We improved the contract example illustrating upgradeable contracts via <code>delegate_call</code></a></li><li><a href="#upgradeable-contracts-delegate_dependency" class="table-of-contents__link toc-highlight">Upgradeable Contracts: <code>delegate_dependency</code></a></li><li><a href="#we-made-set_code_hash-generic" class="table-of-contents__link toc-highlight">We made <code>set_code_hash</code> generic</a></li><li><a href="#buffer-size-can-be-customized" class="table-of-contents__link toc-highlight">Buffer size can be customized</a></li><li><a href="#stabilized-call_runtime" class="table-of-contents__link toc-highlight">Stabilized <code>call_runtime</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="grid w-full z-10 -mt-[200px] lg:-mt-0 pb-12 pt-24 px-8 lg:pr-8 lg:pl-0 overflow-hidden" style="background:linear-gradient(0deg, rgb(29, 24, 74) 0%, rgb(17, 14, 43) 64.0514%, rgb(19, 15, 33) 100%)"><div class="w-full pb-16"><div class="w-full mx-auto md:px-4 lg:px-10 xl:px-20"><div class="grid grid-cols-2 gap-12 md:grid-cols-4 lg:grid-cols-6 lg:gap-0 max-w-[1200px] mx-auto items-center"><div style="transform:translateX(100px) rotate(15deg) skewX(-15deg) skewY(-3deg)"><a href="https://t.me/inkathon" target="_blank" rel="noopener noreferrer" class="relative flex items-center justify-center transition-transform transform will-change-transform group"><div class="absolute z-20 left-1/2 -translate-x-1/2 flex items-center justify-center w-auto p-3 min-w-[200px] max-w-[250px] text-center transition-all duration-700 border-2 shadow-lg opacity-0 pointer-events-none bg-white -top-1/2 rounded-2xl group-hover:opacity-[97%] group-hover:-top-8 font-[600] text-black">Join us on Telegram</div><div class="z-0 relative flex items-center justify-center w-[124px] h-[124px] bg-[#8c7cf7] rounded-[30px] shadow-[8px_8px_0px_0px_#6957de] hover:shadow-[10px_10px_0px_0px_#6957de] transition-shadow duration-500 group skew-y-[-6deg] scale-90 md:rotate-[-6deg] md:scale-100 justify-self-end md:justify-self-center"><div class="flex items-center justify-center w-[100px] h-[100px] bg-white border-[#6957de] border-4 border-solid rounded-[24px]"><div class="flex items-center text-black group-hover:text-[#BD82FD] transition-colors duration-500"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="52" width="52" xmlns="http://www.w3.org/2000/svg"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"></path></svg></div></div></div></a></div><div style="transform:translateX(50px) rotate(24deg) skewX(-24deg) skewY(-6deg)"><a href="https://www.youtube.com/@ink-lang" target="_blank" rel="noopener noreferrer" class="relative flex items-center justify-center transition-transform transform will-change-transform group"><div class="absolute z-20 left-1/2 -translate-x-1/2 flex items-center justify-center w-auto p-3 min-w-[200px] max-w-[250px] text-center transition-all duration-700 border-2 shadow-lg opacity-0 pointer-events-none bg-white -top-1/2 rounded-2xl group-hover:opacity-[97%] group-hover:-top-8 font-[600] text-black">Visit us on YouTube</div><div class="z-0 relative flex items-center justify-center w-[124px] h-[124px] bg-[#8c7cf7] rounded-[30px] shadow-[8px_8px_0px_0px_#6957de] hover:shadow-[10px_10px_0px_0px_#6957de] transition-shadow duration-500 group skew-y-[-6deg] scale-90 md:rotate-[12deg] md:scale-100 md:justify-self-center"><div class="flex items-center justify-center w-[100px] h-[100px] bg-white border-[#6957de] border-4 border-solid rounded-[24px]"><div class="flex items-center text-black group-hover:text-[#BD82FD] transition-colors duration-500"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="52" width="52" xmlns="http://www.w3.org/2000/svg"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"></path></svg></div></div></div></a></div><h2 class="col-span-2 font-[400] md:col-span-4 lg:col-span-2 order-first w-full !text-[50px] text-center text-[rgb(244,241,254)] md:text-4xl lg:order-none sm:mx-18 self-center px-4 mb-0" style="opacity:0;transform:translateY(100px) rotate(-5deg)">Get In Touch</h2><div style="transform:translateX(-50px) rotate(-7deg) skewX(-12deg) skewY(-6deg)"><a href="https://x.com/ink_lang" target="_blank" rel="noopener noreferrer" class="relative flex items-center justify-center transition-transform transform will-change-transform group"><div class="absolute z-20 left-1/2 -translate-x-1/2 flex items-center justify-center w-auto p-3 min-w-[200px] max-w-[250px] text-center transition-all duration-700 border-2 shadow-lg opacity-0 pointer-events-none bg-white -top-1/2 rounded-2xl group-hover:opacity-[97%] group-hover:-top-8 font-[600] text-black">Follow us on X</div><div class="z-0 relative flex items-center justify-center w-[124px] h-[124px] bg-[#8c7cf7] rounded-[30px] shadow-[8px_8px_0px_0px_#6957de] hover:shadow-[10px_10px_0px_0px_#6957de] transition-shadow duration-500 group skew-y-[-6deg] scale-90 md:rotate-[8deg] md:scale-100 justify-self-end md:justify-self-center"><div class="flex items-center justify-center w-[100px] h-[100px] bg-white border-[#6957de] border-4 border-solid rounded-[24px]"><div class="flex items-center text-black group-hover:text-[#BD82FD] transition-colors duration-500"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="52" width="52" xmlns="http://www.w3.org/2000/svg"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"></path></svg></div></div></div></a></div><div style="transform:translateX(-100px) rotate(24deg) skewX(-24deg) skewY(-6deg)"><a href="https://github.com/use-ink" target="_blank" rel="noopener noreferrer" class="relative flex items-center justify-center transition-transform transform will-change-transform group"><div class="absolute z-20 left-1/2 -translate-x-1/2 flex items-center justify-center w-auto p-3 min-w-[200px] max-w-[250px] text-center transition-all duration-700 border-2 shadow-lg opacity-0 pointer-events-none bg-white -top-1/2 rounded-2xl group-hover:opacity-[97%] group-hover:-top-8 font-[600] text-black">Contribute to ink!</div><div class="z-0 relative flex items-center justify-center w-[124px] h-[124px] bg-[#8c7cf7] rounded-[30px] shadow-[8px_8px_0px_0px_#6957de] hover:shadow-[10px_10px_0px_0px_#6957de] transition-shadow duration-500 group skew-y-[-6deg] scale-90 md:rotate-[-9deg] md:scale-100 md:justify-self-center"><div class="flex items-center justify-center w-[100px] h-[100px] bg-white border-[#6957de] border-4 border-solid rounded-[24px]"><div class="flex items-center text-black group-hover:text-[#BD82FD] transition-colors duration-500"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="52" width="52" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></div></div></div></a></div></div></div></div><div class="grid items-end justify-center w-full grid-cols-1 gap-8 lg:grid-cols-4"><div class="flex flex-col order-last gap-4 mt-8 -ml-8 lg:order-first justify-self-start lg:mt-0"><div class="max-w-[500px] will-change-transform" style="opacity:0.9;transform:translateX(-10%) rotate(-5deg)"><a href="/"><svg xmlns="http://www.w3.org/2000/svg" width="817" height="248" viewBox="0 0 817 248" class="w-full -ml-3 origin-left animate-up-down will-change-transform"><defs><linearGradient id="a" x1="0%" x2="22.704%" y1="36.164%" y2="50%"><stop offset="0%" stop-color="#B575E2" stop-opacity="0.116"></stop><stop offset="100%" stop-color="#7E40C1"></stop></linearGradient></defs><g fill="none" fill-rule="evenodd" transform="translate(-3)"><path fill="#BC83FB" d="M564.81 172.19c-21.34-5.49-47.89-13.75-78.52-23.05-18.24-5.55-37.93-11.46-58.82-17.38v-.01C308.88 98.12 151.59 64.21 0 96.5V9.83c107.31-27.02 234.84 8.8 363.98 60.53 19.67 7.88 39.49 15.93 58.85 23.91 20.52 8.45 40.51 16.82 59.23 24.82 51.86 22.15 93.9 41.42 110.16 51.58.01 0 .01.01.02.01l.04.03c2.88 1.79 4.94 3.31 6.1 4.5 4.57 4.68-4.81 4.38-33.57-3.02"></path><path fill="#8747CC" d="M564.81 172.19C458.59 144.87 223.11 48.97 0 96.5V53.62c132.84-37.63 375.75 23.47 592.22 117.05.01 0 .01.01.02.01l.04.03 6.1 4.5c4.57 4.68-4.81 4.38-33.57-3.02"></path><g fill="#D8B7FB"><path d="M28.64 75.46c-6.97-3.29-17.71-4-28.64-2.72v30.57c.09-.02.18-.03.28-.04 28.57-4.81 44.32-20.26 28.36-27.81M118.26 87.85c-26.18-1.01-42.14-13.23-28.72-21.2 13.42-7.96 46.15-6.7 58.91 2.28s-4.01 19.93-30.19 18.92M224.83 93.38c-22.62-3.79-35.32-14.74-22.86-19.72 12.46-4.97 40.73-.23 50.89 8.53 10.16 8.77-5.41 14.98-28.03 11.19M322.13 109.6c-19.42-4.13-29.98-14.08-19.02-17.91s35.23 1.33 43.69 9.29c8.45 7.96-5.26 12.75-24.67 8.62M402.98 128.45c-16.53-4.24-25.26-13.17-15.7-16.07 9.55-2.9 30.22 2.4 37.2 9.54 6.97 7.15-4.97 10.77-21.5 6.53"></path></g><path fill="url(#a)" d="M427.47 131.75c.74-9.79.84-25.89-4.64-37.48 20.52 8.45 40.51 16.82 59.23 24.82l4.23 30.05c-18.24-5.55-37.93-11.46-58.82-17.38z"></path><path fill="#8747CC" d="m770.82 214.44-16.59-44.03c10.14 4.46 19 9.13 26.6 13.87v.05c15.36 14.38 23.8 36.05-10.01 30.11"></path><path fill="#BC83FB" d="M779.29 241.28c-20.7-4.39-49.35-17.33-84.68-42.77-22.9-16.48-.14-7.59 28.35 3.09 19.58 7.35 46.98 12.67 47.84 12.84l.02.01c7.14 1.25 12.4 1.27 16.1.38 13.84-3.28 6.03-19.15-6.09-30.5v-.04c51.63 32.12 46.01 67.1-1.54 56.99"></path><path fill="#5C4DC4" d="M758.88 221.46 508.8 247.39c-11.29 1.17-21.92-2.86-29.5-10.16l-.27-.26-14.08-13.55 4.61-2.08c-.68-2.23-1.15-4.55-1.4-6.95l-9.87-95.19c-2.11-20.34 12.66-38.54 33-40.65l250.08-25.93c5.03-.52 9.92-.01 14.48 1.36l.67-5.01 14 13.48.35.33a36.85 36.85 0 0 1 11.15 22.84l9.87 95.19c2.11 20.34-12.67 38.54-33.01 40.65"></path><path fill="#8C7CF8" d="m744.53 207.65-250.08 25.93c-20.34 2.11-38.54-12.67-40.65-33l-9.87-95.19c-2.11-20.34 12.67-38.54 33.01-40.65l99.74-10.34 36.38-3.77.01-.01 113.95-11.81c20.34-2.11 38.53 12.67 40.64 33l9.87 95.19c2.11 20.34-12.66 38.54-33 40.65"></path><path fill="#FFF" d="m732.26 193.16-31.27 3.24-9.18.96-188.33 19.53c-16.63 1.72-31.51-10.37-33.24-27l-8.03-77.42c-1.72-16.63 10.36-31.52 26.99-33.24L717.99 55.5c16.63-1.72 31.51 10.36 33.24 27l8.02 77.42c1.73 16.63-10.36 31.51-26.99 33.24"></path><path fill="#5C4DC4" fill-rule="nonzero" d="M500.34 219.55c-16.57 0-30.84-12.57-32.59-29.4l-8.03-77.42c-.9-8.71 1.64-17.25 7.16-24.04 5.52-6.8 13.35-11.04 22.06-11.94l228.79-23.73c17.98-1.86 34.12 11.25 35.98 29.23l8.02 77.42c.91 8.71-1.63 17.24-7.16 24.04-5.52 6.8-13.35 11.04-22.06 11.94l-228.78 23.73c-1.13.11-2.27.17-3.39.17M721.13 57.83q-1.425 0-2.88.15L489.46 81.71c-7.38.76-14.02 4.36-18.69 10.12-4.68 5.76-6.83 13-6.07 20.38l8.03 77.42c1.58 15.23 15.27 26.34 30.5 24.77l188.33-19.53 40.45-4.2c7.38-.77 14.02-4.36 18.7-10.12s6.83-13 6.06-20.37l-8.02-77.42c-1.49-14.27-13.58-24.93-27.62-24.93"></path><g fill="#0E0E0E"><path d="M706.33 156.96c-5.41 2.62-7.93 8.9-5.61 14.01s8.59 7.14 14.01 4.52c5.41-2.62 7.93-8.9 5.61-14.01s-8.6-7.14-14.01-4.52m-189.14-34.79c1.47-.15 2.28.51 2.43 1.97l7.16 69.01c.15 1.47-.51 2.28-1.97 2.43l-14.54 1.51c-1.47.15-2.28-.51-2.43-1.97l-7.16-69.01c-.15-1.47.51-2.28 1.97-2.43zm59.7-6.79c16.01-1.66 22.71 8.63 24.27 23.61l4.77 45.96c.15 1.47-.51 2.28-1.97 2.43l-14.54 1.51c-1.47.15-2.28-.51-2.43-1.97L582 138.76c-.52-4.99-4.37-6.37-8.63-5.93l-1.76.18c-6.31.65-10.59 3.77-11.93 6.58l5.15 49.63c.15 1.47-.51 2.28-1.97 2.43l-14.54 1.51c-1.47.15-2.28-.51-2.43-1.97l-7.16-69.01c-.15-1.47.51-2.28 1.97-2.43l14.54-1.51c1.47-.15 2.28.51 2.43 1.97l.67 6.46c1.82-3.9 6.82-10.06 17.69-11.18zm52.96-34.58c1.47-.15 2.28.51 2.43 1.97l5.28 50.95 18.57-24.19c.77-1.12 2.02-1.99 3.19-2.11l15.12-1.57c1.91-.2 3.9 1.82 1.55 4.89l-19.44 25.76 29.8 38.32c1.05 1.52 1.15 3.89-1.35 4.15l-13.8 1.43c-1.91.2-3.73-.21-5.12-2.14l-20.99-27.8-5.13 6.32 2.53 24.38c.15 1.47-.51 2.28-1.97 2.43l-14.54 1.51c-1.47.15-2.28-.51-2.43-1.97l-10.2-98.38c-.15-1.47.51-2.28 1.97-2.43zM504.39 97.34c-5.34 2.24-8.08 8.14-6.12 13.18s7.89 7.31 13.23 5.07 8.08-8.14 6.12-13.18c-1.97-5.04-7.9-7.31-13.23-5.07M702.76 140.05l-3.2.31c-1.47.15-2.28-.51-2.43-1.97l-6.4-61.67c-.15-1.47.51-2.28 1.97-2.43l14.98-1.55c1.47-.15 2.28.51 2.43 1.97l.21 2.08c-5.55 1.98-9.39 8.24-8.99 15.52.32 5.84 3.28 10.86 7.42 13.44-2.65 2.23-4.4 5.72-4.52 9.7-.13 4.33 1.71 8.23 4.63 10.63-2.54 1.44-4.72 4.08-5.77 7.37-.75 2.32-.82 4.62-.33 6.6"></path><path d="M706.87 134.59c-.83 2.61.27 5.15 2.47 5.68s4.66-1.16 5.49-3.76c.83-2.61-.27-5.15-2.47-5.68-2.2-.54-4.66 1.15-5.49 3.76m2.06-18.66c-.33 3.93 2.08 7.34 5.38 7.61s6.24-2.71 6.57-6.64-2.08-7.34-5.38-7.61-6.24 2.71-6.57 6.64m-3.17-22.65c.29 5.31 4.15 9.5 8.62 9.35s7.86-4.57 7.57-9.88-4.15-9.5-8.62-9.35c-4.47.14-7.86 4.57-7.57 9.88"></path></g><path fill="#5C4DC4" d="m731.78 208.97-22.88 13.18s-6.51-7.57-17.09-24.79l9.18-.96z"></path><path fill="#BC83FB" d="m786.688 214.428-7.63 26.45c-20.7-4.39-49.35-17.33-84.68-42.77-22.9-16.48-.14-7.59 28.35 3.09 19.58 7.35 46.98 12.67 47.84 12.84l.02.01c7.14 1.25 12.4 1.27 16.1.38"></path><g fill="#5C4DC4"><path d="M453.84 48.91c-.94 0-1.86-.45-2.42-1.28l-19.69-28.75c-.92-1.34-.57-3.16.76-4.08 1.34-.92 3.16-.57 4.08.76l19.69 28.75c.92 1.34.57 3.16-.76 4.08-.51.35-1.09.52-1.66.52M441.48 56.95c-.54 0-1.08-.15-1.57-.46l-41.34-26.15a2.933 2.933 0 0 1-.91-4.05 2.933 2.933 0 0 1 4.05-.91l41.34 26.15c1.37.87 1.78 2.68.91 4.05-.56.88-1.51 1.37-2.48 1.37"></path></g><circle cx="480.77" cy="31.77" r="6.77" fill="#5C4DC4"></circle></g></svg></a></div><p class="text-[12px] text-gray-400 pl-8 lg:pl-16 mb-0">© use.ink <!-- -->2025<!-- -->. All rights reserved.</p></div><div class="flex flex-col gap-[10px]"><h3 class="font-montserrat text-[rgb(140,124,247)] mb-0 text-lg border-[#6057de] border-solid border-b border-x-0 border-t-0 font-[600] pb-2" style="mask:linear-gradient(270deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 60.00000000000001%)">Build with ink!</h3><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/docs/v6" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,176H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm0-32H96a8,8,0,0,1,0-16h64a8,8,0,0,1,0,16Zm-8-56V44l44,44Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Docs</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/tutorials" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M111.59,181.47A8,8,0,0,1,104,192H24a8,8,0,0,1-7.59-10.53l40-120a8,8,0,0,1,15.18,0ZM208,76a52,52,0,1,0-52,52A52.06,52.06,0,0,0,208,76Zm16,68H136a8,8,0,0,0-8,8v56a8,8,0,0,0,8,8h88a8,8,0,0,0,8-8V152A8,8,0,0,0,224,144Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Tutorials</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/chains" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M240,88.23a54.43,54.43,0,0,1-16,37L189.25,160a54.27,54.27,0,0,1-38.63,16h-.05A54.63,54.63,0,0,1,96,119.84a8,8,0,0,1,16,.45A38.62,38.62,0,0,0,150.58,160h0a38.39,38.39,0,0,0,27.31-11.31l34.75-34.75a38.63,38.63,0,0,0-54.63-54.63l-11,11A8,8,0,0,1,135.7,59l11-11A54.65,54.65,0,0,1,224,48,54.86,54.86,0,0,1,240,88.23ZM109,185.66l-11,11A38.41,38.41,0,0,1,70.6,208h0a38.63,38.63,0,0,1-27.29-65.94L78,107.31A38.63,38.63,0,0,1,144,135.71a8,8,0,0,0,16,.45A54.86,54.86,0,0,0,144,96a54.65,54.65,0,0,0-77.27,0L32,130.75A54.62,54.62,0,0,0,70.56,224h0a54.28,54.28,0,0,0,38.64-16l11-11A8,8,0,0,0,109,185.66Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Chains</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/projects" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M232,32a8,8,0,0,0-8-8c-44.08,0-89.31,49.71-114.43,82.63A60,60,0,0,0,32,164c0,30.88-19.54,44.73-20.47,45.37A8,8,0,0,0,16,224H92a60,60,0,0,0,57.37-77.57C182.3,121.31,232,76.08,232,32ZM124.42,113.55q5.14-6.66,10.09-12.55A76.23,76.23,0,0,1,155,121.49q-5.9,4.94-12.55,10.09A60.54,60.54,0,0,0,124.42,113.55Zm42.7-2.68a92.57,92.57,0,0,0-22-22c31.78-34.53,55.75-45,69.9-47.91C212.17,55.12,201.65,79.09,167.12,110.87Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Projects</div></a></li></div><div class="flex flex-col gap-[10px]"><h3 class="font-montserrat text-[rgb(140,124,247)] mb-0 text-lg border-[#6057de] border-solid border-b border-x-0 border-t-0 font-[600] pb-2" style="mask:linear-gradient(270deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 60.00000000000001%)">Join our community</h3><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/about" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">About</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/bounties" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M221.87,83.16A104.1,104.1,0,1,1,195.67,49l22.67-22.68a8,8,0,0,1,11.32,11.32L167.6,99.71h0l-37.71,37.71-23.95,23.95a40,40,0,0,0,62-35.67,8,8,0,1,1,16-.9,56,56,0,0,1-95.5,42.79h0a56,56,0,0,1,73.13-84.43L184.3,60.39a87.88,87.88,0,1,0,23.13,29.67,8,8,0,0,1,14.44-6.9Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Bounties</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/stories" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M240,56V200a8,8,0,0,1-8,8H160a24,24,0,0,0-24,23.94,7.9,7.9,0,0,1-5.12,7.55A8,8,0,0,1,120,232a24,24,0,0,0-24-24H24a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8H88a32,32,0,0,1,32,32v87.73a8.17,8.17,0,0,0,7.47,8.25,8,8,0,0,0,8.53-8V80a32,32,0,0,1,32-32h64A8,8,0,0,1,240,56Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Stories</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="https://www.youtube.com/@ink-lang" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M234.33,69.52a24,24,0,0,0-14.49-16.4C185.56,39.88,131,40,128,40s-57.56-.12-91.84,13.12a24,24,0,0,0-14.49,16.4C19.08,79.5,16,97.74,16,128s3.08,48.5,5.67,58.48a24,24,0,0,0,14.49,16.41C69,215.56,120.4,216,127.34,216h1.32c6.94,0,58.37-.44,91.18-13.11a24,24,0,0,0,14.49-16.41c2.59-10,5.67-28.22,5.67-58.48S236.92,79.5,234.33,69.52Zm-73.74,65-40,28A8,8,0,0,1,108,156V100a8,8,0,0,1,12.59-6.55l40,28a8,8,0,0,1,0,13.1Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">YouTube</div></a></li></div><div class="flex flex-col gap-[10px]"><h3 class="font-montserrat text-[rgb(140,124,247)] mb-0 text-lg border-[#6057de] border-solid border-b border-x-0 border-t-0 font-[600] pb-2" style="mask:linear-gradient(270deg,rgba(0,0,0,0) 0%,rgba(0,0,0,1) 60.00000000000001%)">Helpful Links</h3><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/inkubator" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M198.51,56.09C186.44,35.4,169.92,24,152,24H104C86.08,24,69.56,35.4,57.49,56.09,46.21,75.42,40,101,40,128s6.21,52.58,17.49,71.91C69.56,220.6,86.08,232,104,232h48c17.92,0,34.44-11.4,46.51-32.09C209.79,180.58,216,155,216,128S209.79,75.42,198.51,56.09ZM199.79,120h-32a152.78,152.78,0,0,0-9.68-48H188.7C194.82,85.38,198.86,102,199.79,120Zm-20.6-64H150.46a83.13,83.13,0,0,0-12-16H152C162,40,171.4,46,179.19,56ZM152,216H138.49a83.13,83.13,0,0,0,12-16h28.73C171.4,210,162,216,152,216Zm36.7-32H158.12a152.78,152.78,0,0,0,9.68-48h32C198.86,154,194.82,170.62,188.7,184Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">ink!ubator</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="https://github.com/use-ink/ink-examples" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM92.8,145.6a8,8,0,1,1-9.6,12.8l-32-24a8,8,0,0,1,0-12.8l32-24a8,8,0,0,1,9.6,12.8L69.33,128Zm58.89-71.4-32,112a8,8,0,1,1-15.38-4.4l32-112a8,8,0,0,1,15.38,4.4Zm53.11,60.2-32,24a8,8,0,0,1-9.6-12.8L186.67,128,163.2,110.4a8,8,0,1,1,9.6-12.8l32,24a8,8,0,0,1,0,12.8Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">ink! examples</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/brand-assets" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M216,40H72A16,16,0,0,0,56,56V72H40A16,16,0,0,0,24,88V200a16,16,0,0,0,16,16H184a16,16,0,0,0,16-16V184h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM172,72a12,12,0,1,1-12,12A12,12,0,0,1,172,72Zm12,128H40V88H56v80a16,16,0,0,0,16,16H184Zm32-32H72V120.69l30.34-30.35a8,8,0,0,1,11.32,0L163.31,140,189,114.34a8,8,0,0,1,11.31,0L216,130.07V168Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">Brand Assets</div></a></li><li class="flex items-center gap-2 group bg-[rgba(128,83,184,0.06)] hover:bg-[#8a66b329] rounded-[12px] text-[15px] font-[600]"><a href="/docs/v6/faq" class="flex items-center content-center w-full h-full gap-2 px-3 py-2 text-white group hover:no-underline hover:text-white"><span class="text-[#8c7cf7] inline-flex group-hover:text-[#bd83fb]"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"></path></svg></span><div class="transition-transform duration-200 will-change-transform group-hover:translate-x-1">FAQ</div></a></li></div></div></footer><div class="absolute top-0 left-0 w-full h-[150vh] gradient-purple -z-10"></div></div>
</body>
</html>