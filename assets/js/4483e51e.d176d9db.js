"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[8244],{20615:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/contracts-ui-0-2c4dfe8d0bd5999bbd3a7c18c04b4210.png"},21693:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/contracts-ui-local-node-2ab5a113ff09e674805bb52bcac8b53c.png"},27604:(e,t,n)=>{n.d(t,{A:()=>c});n(36672);var a=n(13526);const o={tabItem:"tabItem_QL86"};var r=n(23420);function c({children:e,hidden:t,className:n}){return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(o.tabItem,n),hidden:t,children:e})}},37926:(e,t,n)=>{n.d(t,{A:()=>k});var a=n(36672),o=n(13526),r=n(81178),c=n(85291),s=n(35517),i=n(50959),l=n(53076),d=n(16931);function h(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,a.useMemo)(()=>{const e=t??function(e){return h(e).map(({props:{value:e,label:t,attributes:n,default:a}})=>({value:e,label:t,attributes:n,default:a}))}(n);return function(e){const t=(0,l.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function p({value:e,tabValues:t}){return t.some(t=>t.value===e)}function g({queryString:e=!1,groupId:t}){const n=(0,c.W6)(),o=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,i.aZ)(o),(0,a.useCallback)(e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})},[o,n])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:o}=e,r=u(e),[c,i]=(0,a.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!p({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:r})),[l,h]=g({queryString:n,groupId:o}),[m,x]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,o]=(0,d.Dv)(t);return[n,(0,a.useCallback)(e=>{t&&o.set(e)},[t,o])]}({groupId:o}),b=(()=>{const e=l??m;return p({value:e,tabValues:r})?e:null})();(0,s.A)(()=>{b&&i(b)},[b]);return{selectedValue:c,selectValue:(0,a.useCallback)(e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);i(e),h(e),x(e)},[h,x,r]),tabValues:r}}var x=n(47167);const b={tabList:"tabList_dvOz",tabItem:"tabItem_CbXe"};var f=n(23420);function j({className:e,block:t,selectedValue:n,selectValue:a,tabValues:c}){const s=[],{blockElementScrollPositionUntilNextRender:i}=(0,r.a_)(),l=e=>{const t=e.currentTarget,o=s.indexOf(t),r=c[o].value;r!==n&&(i(t),a(r))},d=e=>{let t=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const n=s.indexOf(e.currentTarget)+1;t=s[n]??s[0];break}case"ArrowLeft":{const n=s.indexOf(e.currentTarget)-1;t=s[n]??s[s.length-1];break}}t?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},e),children:c.map(({value:e,label:t,attributes:a})=>(0,f.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{s.push(e)},onKeyDown:d,onClick:l,...a,className:(0,o.A)("tabs__item",b.tabItem,a?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function y({lazy:e,children:t,selectedValue:n}){const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:r.map((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function v(e){const t=m(e);return(0,f.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,f.jsx)(j,{...t,...e}),(0,f.jsx)(y,{...t,...e})]})}function k(e){const t=(0,x.A)();return(0,f.jsx)(v,{...e,children:h(e.children)},String(t))}},44830:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/contracts-ui-1-1182917a65f2198560ea8769359806bb.png"},49958:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/rocket-f84f12aebb0ace4540652b1c64f8e137.svg"},65404:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>s});var a=n(36672);const o={},r=a.createContext(o);function c(e){const t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),a.createElement(r.Provider,{value:t},e.children)}},69932:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/contracts-ui-3-55fe9a77f09f39f3d2445267313a873a.png"},81557:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/contracts-ui-2-5a1361c41163cb95b9bb942c7a2a9cf8.png"},84193:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>d,default:()=>g,frontMatter:()=>l,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"getting-started/deploying","title":"Deploy your contract","description":"Rocket Title Picture","source":"@site/docs/getting-started/deploying.md","sourceDirName":"getting-started","slug":"/getting-started/deploy-your-contract","permalink":"/docs/v6/getting-started/deploy-your-contract","draft":false,"unlisted":false,"editUrl":"https://github.com/use-ink/ink-docs/edit/master/docs/getting-started/deploying.md","tags":[],"version":"current","frontMatter":{"title":"Deploy your contract","slug":"/getting-started/deploy-your-contract","hide_title":true},"sidebar":"reference","previous":{"title":"Compile your contract","permalink":"/docs/v6/getting-started/building-your-contract"},"next":{"title":"Call your contract","permalink":"/docs/v6/getting-started/calling-your-contract"}}');var o=n(23420),r=n(65404),c=n(37926),s=n(27604),i=n(57241);const l={title:"Deploy your contract",slug:"/getting-started/deploy-your-contract",hide_title:!0},d="Launch a local node",h={},u=[{value:"Deploy the contract",id:"deploy-the-contract",level:2},{value:"Using the Terminal",id:"using-the-terminal",level:2},{value:"Using the Contracts UI",id:"using-the-contracts-ui",level:2},{value:"1. Upload Contract Code",id:"1-upload-contract-code",level:3},{value:"2. Instantiate a Contract on the Blockchain",id:"2-instantiate-a-contract-on-the-blockchain",level:3}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Rocket Title Picture",src:n(49958).A+"",width:"1600",height:"500"})}),"\n",(0,o.jsxs)(t.p,{children:["Deploying a smart contract is the process of making your contract available on a blockchain so that it can be interacted with by others. In the Polkadot ecosystem,\nthis involves uploading your compiled contract code to a chain that supports smart contracts (i.e. ",(0,o.jsx)(t.code,{children:"pallet-revive"}),"), and then creating an instance of your contract.\nThis page will guide you through the steps to deploy your ink! contract locally, using both the command line and the Contracts UI."]}),"\n",(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"launch-a-local-node",children:"Launch a local node"})}),"\n",(0,o.jsx)(t.admonition,{title:"Pro Tip",type:"tip",children:(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.a,{href:"https://learn.onpop.io/contracts/guides/deploy",children:"Pop CLI"})," handles the ",(0,o.jsx)(t.code,{children:"ink-node"})," for you, no need to install or launch."]})}),"\n",(0,o.jsxs)(t.p,{children:["To deploy your contract locally, you need a running blockchain node that supports ink! smart contracts. The recommended option is ",(0,o.jsx)(t.code,{children:"ink-node"}),", a simple Polkadot blockchain configured with the ",(0,o.jsx)(t.code,{children:"pallet-revive"})," for smart contracts (",(0,o.jsx)(t.a,{href:"/docs/v6/background/polkadot-sdk",children:"learn more"}),")."]}),"\n",(0,o.jsxs)(t.p,{children:["After ",(0,o.jsxs)(t.a,{href:"/docs/v6/getting-started/setup#ink-node",children:["installing ",(0,o.jsx)(t.code,{children:"ink-node"})]}),", you can start a local development chain by running:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"ink-node\n"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Note:"})," ",(0,o.jsx)(t.code,{children:"ink-node"})," uses the ",(0,o.jsx)(t.code,{children:"--dev"})," flag by default. You may need to specify the ",(0,o.jsx)(t.code,{children:"--dev"})," flag when running a different chain binary."]}),"\n",(0,o.jsx)("img",{src:(0,i.Ay)("/img/ink-node.png"),className:"titlePic titleSpace",title:"Screenshot of terminal starting a local node"}),"\n",(0,o.jsxs)(t.p,{children:["You can interact with your node using ",(0,o.jsx)(t.code,{children:"cargo-contract"}),", ",(0,o.jsx)(t.code,{children:"pop"})," or ",(0,o.jsx)(t.a,{href:"https://ui.use.ink/",children:"the Contracts UI"}),". If you use the Contracts UI, you have to configure it to connect to the locally running node:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Click on the dropdown selector at the top left corner."}),"\n",(0,o.jsx)(t.li,{children:'Choose "Local Node".'}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Connect to local node",src:n(21693).A+"",width:"2272",height:"1544"})}),"\n",(0,o.jsx)(t.h1,{id:"set-up-a-local-polkadot-hub-environment",children:"Set up a Local Polkadot Hub Environment"}),"\n",(0,o.jsxs)(t.p,{children:["You can easily launch a full Polkadot Hub setup locally using the ",(0,o.jsx)(t.a,{href:"https://learn.onpop.io/contracts/guides/deploy",children:"Pop CLI"}),". This includes a local relay chain and one or more system parachains, allowing for end-to-end smart contract development and testing."]}),"\n",(0,o.jsxs)(t.p,{children:["To spin up the environment with the Paseo relay chain and system chains like ",(0,o.jsx)(t.code,{children:"asset-hub"})," and ",(0,o.jsx)(t.code,{children:"passet-hub"}),", run:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"  pop up paseo -p asset-hub,passet-hub\n"})}),"\n",(0,o.jsx)(t.p,{children:"This command will launch:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsx)(t.p,{children:"A local Paseo relay chain"}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.a,{href:"/docs/v6/where-to-deploy#passet-hub",children:"Passet Hub"})," as a parachain, connected and ready to deploy smart contracts"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["You can also include additional system parachains in your local environment, such as ",(0,o.jsx)(t.code,{children:"people"})," and ",(0,o.jsx)(t.code,{children:"pop"}),", by extending the command:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"  pop up paseo -p asset-hub,passet-hub,people,pop\n"})}),"\n",(0,o.jsx)(t.p,{children:"Need more options or configuration details? Check out the CLI help:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"  pop up paseo --help \n"})}),"\n",(0,o.jsx)(t.h2,{id:"deploy-the-contract",children:"Deploy the contract"}),"\n",(0,o.jsx)(t.p,{children:"Now that we have generated the contract binary from our source code and connected to a local node, we want to deploy this contract onto our local node."}),"\n",(0,o.jsx)(t.p,{children:"Smart contract deployment on Polkadot is a little different than on traditional smart contract blockchains."}),"\n",(0,o.jsxs)(t.p,{children:["For example, the standard ERC20 token has been deployed to Ethereum thousands of times, sometimes only with changes to the initial configuration (through the Solidity ",(0,o.jsx)(t.code,{children:"constructor"})," function). Each of these instances take up space on the blockchain equivalent to the contract source code size, even though no code was actually changed."]}),"\n",(0,o.jsx)(t.p,{children:"The contract deployment process in Polkadot is split into two steps:"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Putting your contract code on the blockchain"}),"\n",(0,o.jsx)(t.li,{children:"Creating an instance of your contract"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"With this pattern, contract code like the ERC20 standard can be put on the blockchain one single time, but instantiated any number of times. No need to continually upload the same source code over and waste space on the blockchain."}),"\n",(0,o.jsx)(t.h2,{id:"using-the-terminal",children:"Using the Terminal"}),"\n",(0,o.jsxs)(t.p,{children:["With ",(0,o.jsx)(t.code,{children:"cargo-contract"})," or ",(0,o.jsx)(t.code,{children:"pop"})," it's just a simple sequence of:"]}),"\n",(0,o.jsxs)(c.A,{children:[(0,o.jsx)(s.A,{value:"cargo-contract",label:"cargo-contract",default:!0,children:(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"cargo contract build\ncargo contract instantiate --suri //Alice --args true\n"})})}),(0,o.jsx)(s.A,{value:"pop",label:"Pop",children:(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"pop build\npop up --suri //Alice --args true\n"})})})]}),"\n",(0,o.jsx)(t.h2,{id:"using-the-contracts-ui",children:"Using the Contracts UI"}),"\n",(0,o.jsx)(t.h3,{id:"1-upload-contract-code",children:"1. Upload Contract Code"}),"\n",(0,o.jsx)(t.p,{children:"Here we will upload the contract code and instantiate one copy of the contract on the blockchain (which is usually why we upload the contract code in the first place):"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Go to ",(0,o.jsx)(t.a,{href:"https://ui.use.ink/",children:"https://ui.use.ink/"})]}),"\n",(0,o.jsx)(t.li,{children:"Make sure you have ink! v6 selected in the sidebar"}),"\n",(0,o.jsxs)(t.li,{children:["Click the ",(0,o.jsx)(t.strong,{children:"Add New Contract"})," button in the sidebar."]}),"\n",(0,o.jsxs)(t.li,{children:["Click the ",(0,o.jsx)(t.strong,{children:"Upload New Contract Code"})," button in the Add New Contract page."]}),"\n",(0,o.jsxs)(t.li,{children:["Choose an ",(0,o.jsx)(t.strong,{children:"Instantiation account"})," (e.g. ALICE)."]}),"\n",(0,o.jsxs)(t.li,{children:["Give the contract a descriptive ",(0,o.jsx)(t.strong,{children:"Name"})," (e.g. Flipper Contract)."]}),"\n",(0,o.jsxs)(t.li,{children:["Drag the ",(0,o.jsx)(t.code,{children:"flipper.contract"})," file that contains the bundled binary blob and metadata into the drag & drop area. You will see the UI parse the metadata and enabling the button that takes you to the next step."]}),"\n",(0,o.jsxs)(t.li,{children:["Click the ",(0,o.jsx)(t.strong,{children:"Next"})," button"]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Flipper Instantiate Contract 01",src:n(20615).A+"",width:"2272",height:"1586"})}),"\n",(0,o.jsx)(t.h3,{id:"2-instantiate-a-contract-on-the-blockchain",children:"2. Instantiate a Contract on the Blockchain"}),"\n",(0,o.jsxs)(t.p,{children:["Smart contracts exist as an extension of the account system on the blockchain. Thus creating an instance of this contract will create a new ",(0,o.jsx)(t.code,{children:"AccountId"})," (ETH-compatible address) which will store any balance managed by the smart contract and allow us to interact with the contract."]}),"\n",(0,o.jsx)(t.p,{children:"Now a screen displays the information that represents our smart contract. We are going to instantiate a copy of the smart contract:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Accept the default options for the contract ",(0,o.jsx)(t.strong,{children:"Deployment Constructor"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Accept the default options ",(0,o.jsx)(t.strong,{children:"Max Gas Allowed"})," of ",(0,o.jsx)(t.code,{children:"200000"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:["Click on ",(0,o.jsx)(t.code,{children:"Next"})]}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Flipper Instantiate Contract 02",src:n(44830).A+"",width:"2588",height:"1778"})}),"\n",(0,o.jsxs)(t.p,{children:["The transaction is now queued, review your data and click ",(0,o.jsx)(t.strong,{children:"Upload and Instantiate"})," or go back and modify your inputs."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Flipper Instantiate Contract 03",src:n(81557).A+"",width:"2396",height:"1778"})}),"\n",(0,o.jsx)(t.p,{children:"You will be redirected to a new page, where you can interact with the newly created contract instance."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Flipper Instantiate Success",src:n(69932).A+"",width:"2396",height:"1778"})})]})}function g(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);