"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[1468],{40880:(e,t,n)=>{n.d(t,{A:()=>r});n(36672);var i=n(13526);const c={tabItem:"tabItem_QL86"};var a=n(23420);function r({children:e,hidden:t,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(c.tabItem,n),hidden:t,children:e})}},53625:(e,t,n)=>{n.d(t,{A:()=>i});const i="data:image/svg+xml;base64,PHN2ZyBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxNjAwIDUwMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTYwMCA1MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiA8c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRDdCNkZBO30KCS5zdDF7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojQkE4MUY5O30KCS5zdDJ7ZmlsbDojQkE4MUY5O30KCS5zdDN7ZmlsbDojRUFEOUZDO30KCS5zdDR7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRkZGRkZGO30KCS5zdDV7ZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojRDhCNkZGO30KCS5zdDZ7ZmlsbDojNUEwMDdFO308L3N0eWxlPgogPHBhdGggY2xhc3M9InN0MCIgZD0ibTE2MDAgMjQuOHY0MjguNWMwIDguMy00LjEgMTUuNy0xMC4zIDIwLjItMi40IDEuNy01LjggMC45LTYuOS0xLjktMy45LTkuNy0xNi40LTE2LjgtMzEuMi0xNi44LTkuNSAwLTE4IDIuOS0yMy45IDcuNS0xLjkgMS41LTQuNiAxLjItNi4yLTAuNi03LjctOC43LTIxLjItMTQuNS0zNi43LTE0LjUtMTMuOSAwLTI2LjQgNC43LTM0LjMgMTItMS44IDEuNy00LjcgMS41LTYuNC0wLjMtOS4zLTEwLjEtMjUuOC0xNi44LTQ0LjYtMTYuOC0yNy4xIDAtNDkuMyAxMy45LTUyLjQgMzEuNy0wLjQgMi40LTIuNSA0LjEtNC45IDQuMWgtMTMxN2MtMTMuOSAwLjMtMjUtMTAuOC0yNS0yNC41di00MjguNmMwLTEzLjcgMTEuMS0yNC44IDI0LjgtMjQuOGgxNTUwYzEzLjggMCAyNC45IDExLjEgMjQuOSAyNC44eiIvPgogPGVsbGlwc2UgY2xhc3M9InN0MSIgY3g9IjE0MDAiIGN5PSI0NzkuMiIgcng9IjMzLjkiIHJ5PSIyMC44Ii8+CiA8ZWxsaXBzZSBjbGFzcz0ic3QxIiBjeD0iMTQ4NCIgY3k9IjQ3OC43IiByeD0iMjcuOSIgcnk9IjE3LjIiLz4KIDxlbGxpcHNlIGNsYXNzPSJzdDEiIGN4PSIxNTUyIiBjeT0iNDc5IiByeD0iMTguNyIgcnk9IjExLjUiLz4KIDxwYXRoIGNsYXNzPSJzdDIiIGQ9Im0xNjAwIDM5NS41djU3LjhjMCA4LjMtNC4xIDE1LjctMTAuMyAyMC4yLTIuNCAxLjctNS44IDAuOS02LjktMS45LTMuOS05LjctMTYuNC0xNi44LTMxLjItMTYuOC05LjUgMC0xOCAyLjktMjMuOSA3LjUtMS45IDEuNS00LjYgMS4yLTYuMi0wLjYtNy43LTguNy0yMS4yLTE0LjUtMzYuNy0xNC41LTEzLjkgMC0yNi40IDQuNy0zNC4zIDEyLTEuOCAxLjctNC43IDEuNS02LjQtMC4zLTkuMy0xMC4xLTI1LjgtMTYuOC00NC42LTE2LjgtMjcuMSAwLTQ5LjMgMTMuOS01Mi40IDMxLjctMC40IDIuNC0yLjUgNC4xLTQuOSA0LjFoLTEzMTdjLTEzLjkgMC4zLTI1LTEwLjgtMjUtMjQuNXYtMTQ3czI4Mi43IDg5IDQ2NS41IDg4LjljMjg5LjUtMC4yIDcxNS4xLTEyNi42IDExMzQgMC4yeiIvPgogPHBhdGggY2xhc3M9InN0MyIgZD0iTTAsMjEuM3Y1OC41QzUyNi44LDMxLDg2NC4zLDIxNy45LDE2MDAsNzZWMjEuM2MwLTExLjgtMTEuMS0yMS4zLTI0LjgtMjEuM0gyNC44QzExLjEsMCwwLDkuNiwwLDIxLjN6Ii8+CiA8cGF0aCBjbGFzcz0ic3Q0IiBkPSJtMTA4NiAzNTcuOGgtNTk3LjVjLTE1LjkgMC0yOC44LTEyLjktMjguOC0yOC44di0xODYuN2MwLTE1LjkgMTIuOS0yOC44IDI4LjgtMjguOGg1OTcuNWMxNS45IDAgMjguOCAxMi45IDI4LjggMjguOHYxODYuN2MwIDE1LjktMTIuOSAyOC44LTI4LjggMjguOHoiLz4KIDxlbGxpcHNlIGNsYXNzPSJzdDEiIGN4PSIxNDAwIiBjeT0iNDc5LjIiIHJ4PSIzMy45IiByeT0iMjAuOCIvPgogPGVsbGlwc2UgY2xhc3M9InN0MSIgY3g9IjE0ODQiIGN5PSI0NzguNyIgcng9IjI3LjkiIHJ5PSIxNy4yIi8+CiA8ZWxsaXBzZSBjbGFzcz0ic3QxIiBjeD0iMTU1MiIgY3k9IjQ3OSIgcng9IjE4LjciIHJ5PSIxMS41Ii8+CiA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA2IC04OS43OSkiPgogIDxwYXRoIGNsYXNzPSJzdDUiIGQ9Im0xMDMzIDM3NS44Yy04LjcgMy4yLTEzLjYgMTIuNC0xMC45IDIwLjZzMTIuMSAxMi40IDIwLjggOS4yIDEzLjYtMTIuNCAxMC45LTIwLjZjLTIuOC04LjItMTIuMS0xMi4zLTIwLjgtOS4yem0tMjg1LjMtODMuN2MyLjMgMCAzLjQgMS4xIDMuNCAzLjR2MTA3LjNjMCAyLjMtMS4xIDMuNC0zLjQgMy40aC0yMi42Yy0yLjMgMC0zLjQtMS4xLTMuNC0zLjR2LTEwNy4zYzAtMi4zIDEuMS0zLjQgMy40LTMuNGgyMi42em05Mi45LTAuOWMyNC45IDAgMzMuNSAxNi45IDMzLjUgNDAuMnY3MS40YzAgMi4zLTEuMSAzLjQtMy40IDMuNGgtMjIuNmMtMi4zIDAtMy40LTEuMS0zLjQtMy40di03NC45YzAtNy44LTUuNy0xMC41LTEyLjMtMTAuNWgtMi43Yy05LjggMC0xNi45IDQuMS0xOS40IDguMnY3Ny4xYzAgMi4zLTEuMSAzLjQtMy40IDMuNGgtMjIuNmMtMi4zIDAtMy40LTEuMS0zLjQtMy40di0xMDcuM2MwLTIuMyAxLjEtMy40IDMuNC0zLjRoMjIuNmMyLjMgMCAzLjQgMS4xIDMuNCAzLjR2MTBjMy40LTUuNyAxMi4xLTE0LjQgMjktMTQuNGwxLjMgMC4yem04Ny00NC43YzIuMyAwIDMuNCAxLjEgMy40IDMuNHY3OS4ybDMyLjQtMzQuMmMxLjQtMS42IDMuNC0yLjcgNS4zLTIuN2gyMy41YzMgMCA1LjcgMy40IDEuNiA3LjhsLTM0IDM2LjUgMzkuNyA2My43YzEuNCAyLjUgMS4xIDYuMi0yLjcgNi4yaC0yMS41Yy0zIDAtNS43LTAuOS03LjUtNC4xbC0yOC00Ni4zLTguOSA4Ljl2MzcuOWMwIDIuMy0xLjEgMy40LTMuNCAzLjRoLTIyLjZjLTIuMyAwLTMuNC0xLjEtMy40LTMuNGwwLjEtMTUyLjljMC0yLjMgMS4xLTMuNCAzLjQtMy40aDIyLjZ6bS0xOTUuNiA1LjNjLTguNiAyLjYtMTMuNyAxMS4yLTExLjUgMTkuM3MxMSAxMi41IDE5LjUgOS45YzguNi0yLjYgMTMuNy0xMS4yIDExLjUtMTkuMy0yLjItOC0xMS0xMi40LTE5LjUtOS45eiIvPgogIDxwYXRoIGNsYXNzPSJzdDUiIGQ9Im0xMDMwIDM0OS4zaC01Yy0yLjMgMC0zLjQtMS4xLTMuNC0zLjR2LTk1LjljMC0yLjMgMS4xLTMuNCAzLjQtMy40aDIzLjNjMi4zIDAgMy40IDEuMSAzLjQgMy40djMuMmMtOC45IDIuMi0xNS44IDExLjItMTYuMyAyMi40LTAuNCA5IDMuMyAxNy4yIDkuMyAyMS45LTQuNCAzLTcuNyA4LjEtOC41IDE0LjItMC45IDYuNiAxLjMgMTIuOSA1LjQgMTcuMS00LjEgMS44LTcuOSA1LjUtMTAuMSAxMC40LTEuNSAzLjQtMiA2LjktMS41IDEwLjF6Ii8+CiAgPHBhdGggY2xhc3M9InN0NSIgZD0ibTEwMzcgMzQxLjVjLTEuNyAzLjktMC40IDggMi45IDkuMXM3LjMtMSA5LTQuOSAwLjQtOC0yLjktOS4xYy0zLjMtMS4yLTcuMyAxLTkgNC45em02LjEtMjguM2MtMS4xIDYgMiAxMS42IDcuMSAxMi42IDUgMC45IDEwLTMuMiAxMS4yLTkuMiAxLjEtNi0yLTExLjYtNy4xLTEyLjYtNS0wLjktMTAgMy4yLTExLjIgOS4yem0tMS4yLTM1LjRjLTAuNCA4LjIgNC45IDE1LjMgMTEuOCAxNS44czEyLjgtNS44IDEzLjItMTQtNC45LTE1LjMtMTEuOC0xNS44LTEyLjggNS44LTEzLjIgMTR6Ii8+CiAgPHBhdGggY2xhc3M9InN0NiIgZD0ibTEwODcgNDA2LjRoNzUuNWMyLjYgMCA0LjctMi4xIDQuNy00Ljd2LTExLjhjMC0yLjYtMi4xLTQuNy00LjctNC43aC03NS41Yy0yLjYgMC00LjcgMi4xLTQuNyA0Ljd2MTEuOGMwIDIuNiAyLjEgNC43IDQuNyA0Ljd6Ii8+CiAgPHBhdGggY2xhc3M9InN0NiIgZD0ibTYxOS42IDI5M2MwLTIuNiAyLjEtNC43IDQuNy00LjdoMTQuMmMyLjYgMCA0LjcgMi4xIDQuNyA0Ljd2MTQuMmMwIDIuNi0yLjEgNC43LTQuNyA0LjdoLTE0LjJjLTIuNiAwLTQuNy0yLjEtNC43LTQuN3YtMTQuMnoiLz4KICA8cGF0aCBjbGFzcz0ic3Q2IiBkPSJtNjE5LjUgNDAxLjVjMCAyLjYgMi4xIDQuNyA0LjcgNC43aDE0LjJjMi42IDAgNC43LTIuMSA0LjctNC43di0xNC4yYzAtMi42LTIuMS00LjctNC43LTQuN2gtMTQuMmMtMi42IDAtNC43IDIuMS00LjcgNC43djE0LjJ6Ii8+CiAgPHBhdGggY2xhc3M9InN0NiIgZD0ibTY0My4xIDMxNi42YzAtMi42IDIuMS00LjcgNC43LTQuN2gxNC4yYzIuNiAwIDQuNyAyLjEgNC43IDQuN3YxNC4yYzAgMi42LTIuMSA0LjctNC43IDQuN2gtMTQuMmMtMi42IDAtNC43LTIuMS00LjctNC43di0xNC4yeiIvPgogIDxwYXRoIGNsYXNzPSJzdDYiIGQ9Im02NDMuMSAzNzcuOWMwIDIuNiAyLjEgNC43IDQuNyA0LjdoMTQuMmMyLjYgMCA0LjctMi4xIDQuNy00Ljd2LTE0LjJjMC0yLjYtMi4xLTQuNy00LjctNC43aC0xNC4yYy0yLjYgMC00LjcgMi4xLTQuNyA0Ljd2MTQuMnoiLz4KICA8cGF0aCBjbGFzcz0ic3Q2IiBkPSJtNjY2LjcgMzQwLjJjMC0yLjYgMi4xLTQuNyA0LjctNC43aDE0LjJjMi42IDAgNC43IDIuMSA0LjcgNC43djE0LjJjMCAyLjYtMi4xIDQuNy00LjcgNC43aC0xNC4yYy0yLjYgMC00LjctMi4xLTQuNy00Ljd2LTE0LjJ6Ii8+CiA8L2c+Cjwvc3ZnPgo="},65404:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var i=n(36672);const c={},a=i.createContext(c);function r(e){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(a.Provider,{value:t},e.children)}},78583:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>g,frontMatter:()=>u,metadata:()=>i,toc:()=>j});const i=JSON.parse('{"id":"getting-started/compiling","title":"Compile your contract","description":"Cargo Contract Title Picture","source":"@site/docs/getting-started/compiling.md","sourceDirName":"getting-started","slug":"/getting-started/building-your-contract","permalink":"/docs/v6/getting-started/building-your-contract","draft":false,"unlisted":false,"editUrl":"https://github.com/use-ink/ink-docs/edit/master/docs/getting-started/compiling.md","tags":[],"version":"current","frontMatter":{"title":"Compile your contract","slug":"/getting-started/building-your-contract","hide_title":true},"sidebar":"reference","previous":{"title":"Create an ink! Project","permalink":"/docs/v6/getting-started/creating-an-ink-project"},"next":{"title":"Deploy your contract","permalink":"/docs/v6/getting-started/deploy-your-contract"}}');var c=n(23420),a=n(65404),r=n(55333),s=n(87658),o=n(40880);const u={title:"Compile your contract",slug:"/getting-started/building-your-contract",hide_title:!0},l="Compile Your Contract",d={},j=[{value:"Debug vs. Release Build",id:"debug-vs-release-build",level:2},{value:"Test Your Contract",id:"test-your-contract",level:2}];function M(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.p,{children:(0,c.jsx)(t.img,{alt:"Cargo Contract Title Picture",src:n(53625).A+"",width:"1600",height:"500"})}),"\n",(0,c.jsx)(t.header,{children:(0,c.jsx)(t.h1,{id:"compile-your-contract",children:"Compile Your Contract"})}),"\n",(0,c.jsxs)(t.p,{children:["Run the following command in your ",(0,c.jsx)(t.code,{children:"flipper"})," directory to compile your smart contract:"]}),"\n",(0,c.jsxs)(s.A,{children:[(0,c.jsx)(o.A,{value:"cargo-contract",label:"cargo-contract",default:!0,children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"cargo contract build\n"})})}),(0,c.jsx)(o.A,{value:"pop",label:"Pop",children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"pop build\n"})})})]}),"\n",(0,c.jsxs)(t.p,{children:["This command will build the following for your contract:\na binary, a metadata file (which contains the\ncontract's ABI) and a ",(0,c.jsx)(t.code,{children:".contract"})," file which bundles both."]}),"\n",(0,c.jsxs)(t.p,{children:["In principle, you can also build your contract using just the normal Rust build workflow\n(",(0,c.jsx)(t.code,{children:"cargo build"}),"). We'll use ",(0,c.jsx)(t.code,{children:"cargo-contract"})," though, as it invokes ",(0,c.jsx)(t.code,{children:"cargo build"})," with an\noptimal set of flags."]}),"\n",(0,c.jsxs)(t.p,{children:["If all goes well, you should see a ",(0,c.jsx)(t.code,{children:"target"})," folder that contains these files:"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{children:"target\n  \u2514\u2500 ink\n    \u2514\u2500 flipper.polkavm     <-- Raw contract binary\n    \u2514\u2500 flipper.json        <-- Metadata for the contract\n    \u2514\u2500 flipper.contract    <-- JSON file that combines binary + metadata\n"})}),"\n",(0,c.jsxs)(t.p,{children:['You can think of "Metadata" this way: the raw ',(0,c.jsx)(t.code,{children:".polkavm"})," binary contains just\nthe bytecode of your contract. Without further information it's\nnot possible to know what this bytecode refers to. For example,\nwhich functions can be called in there or what their arguments\nare. This additional information that describes what the raw binary\nis about is called metadata \u2014 data that describes other data."]}),"\n",(0,c.jsx)("p",{children:(0,c.jsx)("img",{src:(0,r.Ay)("/img/metadata-polkavm.svg")})}),"\n",(0,c.jsx)(t.p,{children:"The purpose of each file is:"}),"\n",(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.code,{children:"flipper.polkavm"}),": This is the raw contract bytecode that will be deployed on-chain."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.code,{children:"flipper.json"}),": The isolated metadata, which is not stored on-chain.\nIt's big and would take up too much space and costs.\nThis file is used by e.g. a dApp user interface to know how to communicate with the on-chain contract."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.code,{children:"flipper.contract"}),": Combines both the contract's bytecode and the metadata. This file\nis used when you are using ",(0,c.jsx)(t.code,{children:"cargo-contract"})," to interact with a contract\nor when you use a developer UI like ",(0,c.jsx)(t.a,{href:"https://ui.use.ink",children:"Contracts UI"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(t.p,{children:["Let's take a look at the structure of the ",(0,c.jsx)(t.code,{children:"flipper.json"}),":"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-json",children:'{\n  "source": {...},\n  "contract": {...},\n  "spec": {\n    "constructors": [...],\n    "docs": [],\n    "events": [],\n    "messages": [...],\n  },\n  "storage": {...},\n  "types": [...],\n  "version": "6"\n}\n'})}),"\n",(0,c.jsx)(t.p,{children:"This file describes all the interfaces that can be used to interact with your contract:"}),"\n",(0,c.jsxs)(t.ul,{children:["\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.code,{children:"types"})," provides the custom ",(0,c.jsx)(t.em,{children:"data types"})," used throughout the rest of the JSON."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.code,{children:"storage"})," defines all the ",(0,c.jsx)(t.em,{children:"storage"})," items managed by your contract and how to ultimately access them."]}),"\n",(0,c.jsxs)(t.li,{children:[(0,c.jsx)(t.code,{children:"spec"})," stores information about the callable functions like ",(0,c.jsx)(t.em,{children:"constructors"})," and ",(0,c.jsx)(t.em,{children:"messages"})," a\nuser can call to interact with the contract. It also has helpful information like the ",(0,c.jsx)(t.em,{children:"events"}),"\nthat are emitted by the contract or any ",(0,c.jsx)(t.em,{children:"docs"}),"."]}),"\n"]}),"\n",(0,c.jsxs)(t.p,{children:["If you look closely at the constructors and messages, you will also notice a ",(0,c.jsx)(t.code,{children:"selector"})," which\ncontains a 4-byte hash of the function name. This selector is used to route your contract calls to the correct\nfunctions."]}),"\n",(0,c.jsxs)(t.p,{children:["You can open up the ",(0,c.jsx)(t.code,{children:"flipper.contract"})," file in any text editor. You'll notice that it's\nnearly the same as the ",(0,c.jsx)(t.code,{children:"flipper.json"}),". The only difference is that the ",(0,c.jsx)(t.code,{children:".contract"})," file contains\nan additional field with the hex-encoded binary of your contract:"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-json",children:'{\n    "source": {\n        \u2026\n        "contract_binary": "0x006173\u2026",\n    },\n    \u2026\n}\n'})}),"\n",(0,c.jsx)(t.admonition,{type:"info",children:(0,c.jsxs)(t.p,{children:["Pipe the ",(0,c.jsx)(t.code,{children:"flipper.json"})," through ",(0,c.jsx)(t.a,{href:"https://jqlang.org/",children:(0,c.jsx)(t.code,{children:"jq"})})," to pretty-print it: ",(0,c.jsx)(t.code,{children:"cat flipper.json | jq"}),"."]})}),"\n",(0,c.jsx)(t.h2,{id:"debug-vs-release-build",children:"Debug vs. Release Build"}),"\n",(0,c.jsxs)(t.p,{children:["By default, ",(0,c.jsx)(t.code,{children:"cargo-contract"})," builds the contract in debug mode. This means\nthat debugging information will be preserved.\nIf you e.g. panic like this:"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-rust",children:'self.env().set_code_hash(&code_hash).unwrap_or_else(|err| {\n    panic!("Failed to `set_code_hash` to {code_hash:?} due to {err:?}")\n});\n'})}),"\n",(0,c.jsx)(t.p,{children:"The return value of a contract during a dry-run will contain this textual panic message.\nTo support functionality like this the debug build of a contract includes some\nheavy-weight logic which increases the contract's size."}),"\n",(0,c.jsxs)(t.p,{children:["For contracts that are supposed to run in production you should always build the\ncontract with ",(0,c.jsx)(t.code,{children:"--release"}),":"]}),"\n",(0,c.jsxs)(s.A,{children:[(0,c.jsx)(o.A,{value:"cargo-contract",label:"cargo-contract",default:!0,children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"cargo contract build --release\n"})})}),(0,c.jsx)(o.A,{value:"pop",label:"Pop",children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"pop build --release\n"})})})]}),"\n",(0,c.jsx)(t.p,{children:"This will ensure that nothing unnecessary is compiled into the binary blob, making\nyour contract faster and cheaper to deploy and execute."}),"\n",(0,c.jsx)(t.admonition,{type:"info",children:(0,c.jsxs)(t.p,{children:["With this behavior ",(0,c.jsx)(t.code,{children:"cargo-contract"})," mirrors how ",(0,c.jsx)(t.code,{children:"cargo"})," behaves for Rust programs:\nthe ",(0,c.jsx)(t.code,{children:"--release"})," flag has to be passed explicitly to ",(0,c.jsx)(t.code,{children:"cargo build"}),"."]})}),"\n",(0,c.jsx)(t.h2,{id:"test-your-contract",children:"Test Your Contract"}),"\n",(0,c.jsx)(t.p,{children:"If you created a new project using a template, you can find at the bottom of the lib.rs simple test cases which verify the functionality of the contract. We can quickly test this code is functioning as expected:"}),"\n",(0,c.jsxs)(s.A,{children:[(0,c.jsx)(o.A,{value:"cargo-contract",label:"cargo-contract",default:!0,children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"cargo contract test\n"})})}),(0,c.jsx)(o.A,{value:"pop",label:"Pop",children:(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"pop test\n"})})})]}),"\n",(0,c.jsx)(t.p,{children:"To which you should see a successful test completion:"}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-bash",children:"running 2 tests\ntest flipper::tests::it_works ... ok\ntest flipper::tests::default_works ... ok\n\ntest result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\n"})}),"\n",(0,c.jsxs)(t.p,{children:["Learn more about the ",(0,c.jsx)(t.a,{href:"/docs/v6/contract-testing/overview",children:"testing strategies for ink! contracts"}),"."]})]})}function g(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,c.jsx)(t,{...e,children:(0,c.jsx)(M,{...e})}):M(e)}},87658:(e,t,n)=>{n.d(t,{A:()=>T});var i=n(36672),c=n(13526),a=n(45038),r=n(85291),s=n(98521),o=n(4483),u=n(6816),l=n(12026);function d(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function j(e){const{values:t,children:n}=e;return(0,i.useMemo)(()=>{const e=t??function(e){return d(e).map(({props:{value:e,label:t,attributes:n,default:i}})=>({value:e,label:t,attributes:n,default:i}))}(n);return function(e){const t=(0,u.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function M({value:e,tabValues:t}){return t.some(t=>t.value===e)}function g({queryString:e=!1,groupId:t}){const n=(0,r.W6)(),c=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,o.aZ)(c),(0,i.useCallback)(e=>{if(!c)return;const t=new URLSearchParams(n.location.search);t.set(c,e),n.replace({...n.location,search:t.toString()})},[c,n])]}function L(e){const{defaultValue:t,queryString:n=!1,groupId:c}=e,a=j(e),[r,o]=(0,i.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!M({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a})),[u,d]=g({queryString:n,groupId:c}),[L,h]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,c]=(0,l.Dv)(t);return[n,(0,i.useCallback)(e=>{t&&c.set(e)},[t,c])]}({groupId:c}),y=(()=>{const e=u??L;return M({value:e,tabValues:a})?e:null})();(0,s.A)(()=>{y&&o(y)},[y]);return{selectedValue:r,selectValue:(0,i.useCallback)(e=>{if(!M({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),h(e)},[d,h,a]),tabValues:a}}var h=n(63099);const y={tabList:"tabList_dvOz",tabItem:"tabItem_CbXe"};var I=n(23420);function x({className:e,block:t,selectedValue:n,selectValue:i,tabValues:r}){const s=[],{blockElementScrollPositionUntilNextRender:o}=(0,a.a_)(),u=e=>{const t=e.currentTarget,c=s.indexOf(t),a=r[c].value;a!==n&&(o(t),i(a))},l=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=s.indexOf(e.currentTarget)+1;t=s[n]??s[0];break}case"ArrowLeft":{const n=s.indexOf(e.currentTarget)-1;t=s[n]??s[s.length-1];break}}t?.focus()};return(0,I.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,c.A)("tabs",{"tabs--block":t},e),children:r.map(({value:e,label:t,attributes:i})=>(0,I.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{s.push(e)},onKeyDown:l,onClick:u,...i,className:(0,c.A)("tabs__item",y.tabItem,i?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function N({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,i.cloneElement)(e,{className:(0,c.A)("margin-top--md",e.props.className)}):null}return(0,I.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function p(e){const t=L(e);return(0,I.jsxs)("div",{className:(0,c.A)("tabs-container",y.tabList),children:[(0,I.jsx)(x,{...t,...e}),(0,I.jsx)(N,{...t,...e})]})}function T(e){const t=(0,h.A)();return(0,I.jsx)(p,{...e,children:d(e.children)},String(t))}}}]);