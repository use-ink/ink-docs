"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[9339],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>m});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),d=s(a),g=r,m=d["".concat(l,".").concat(g)]||d[g]||p[g]||o;return a?n.createElement(m,c(c({ref:t},u),{},{components:a})):n.createElement(m,c({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,c=new Array(o);c[0]=g;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[d]="string"==typeof e?e:r,c[1]=i;for(var s=2;s<o;s++)c[s]=a[s];return n.createElement.apply(null,c)}return n.createElement.apply(null,a)}g.displayName="MDXCreateElement"},7796:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const o={title:"Desplega tu Contrato",slug:"/getting-started/deploy-your-contract"},c=void 0,i={unversionedId:"getting-started/deploying",id:"getting-started/deploying",title:"Desplega tu Contrato",description:"Ahora que hemos generado el binario Wasm desde nuestro c\xf3digo fuente y nos hemos conectado a un nodo local,",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/getting-started/deploying.md",sourceDirName:"getting-started",slug:"/getting-started/deploy-your-contract",permalink:"/es/4.x/getting-started/deploy-your-contract",draft:!1,editUrl:"https://github.com/paritytech/ink-docs/edit/master/docs/getting-started/deploying.md",tags:[],version:"current",frontMatter:{title:"Desplega tu Contrato",slug:"/getting-started/deploy-your-contract"},sidebar:"reference",previous:{title:"Arranca un Nodo Substrate",permalink:"/es/4.x/getting-started/running-substrate"},next:{title:"Ejecute su Contrato",permalink:"/es/4.x/getting-started/calling-your-contract"}},l={},s=[{value:"TODO: Using the Contracts UI",id:"todo-using-the-contracts-ui",level:2},{value:"1. Cargar el c\xf3digo del Contrato",id:"1-cargar-el-c\xf3digo-del-contrato",level:3},{value:"2. Instanciar un Contrato en la Blockchain",id:"2-instanciar-un-contrato-en-la-blockchain",level:3}],u={toc:s};function d(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Ahora que hemos generado el binario Wasm desde nuestro c\xf3digo fuente y nos hemos conectado a un nodo local,\nqueremos desplegar este contrato en nuestro Substrate blockchain."),(0,r.kt)("p",null,"El despliegue de los smart contracts en Substrate es un poco diferente que los blockchain smart contracts tradicionales."),(0,r.kt)("p",null,"Mientras que en otras plataformas cada vez que se carga un contrato se despliega un nuevo blob del c\xf3digo fuente de los smart contracts,\nSubstrate opta por optimizar este comportamiento. Por ejemplo, el token est\xe1ndar ERC20 se ha desplegado en Ethereum miles de veces,\nalgunas veces solo con cambios en la configuraci\xf3n inicial (mediante la funci\xf3n de Solidity ",(0,r.kt)("inlineCode",{parentName:"p"},"constructor"),"). Cada una de estas instancias\nocupan espacio en la blockchain equivalente al tama\xf1o del c\xf3digo fuente del contrato, aunque en realidad no se modific\xf3 ning\xfan c\xf3digo."),(0,r.kt)("p",null,"En Substrate, el proceso de despliegue del contrato se divide en dos pasos:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Poner el c\xf3digo del contrato en la blockchain."),(0,r.kt)("li",{parentName:"ol"},"Crear una instancia de tu contrato.")),(0,r.kt)("p",null,"Con este patr\xf3n, c\xf3digo de un contrato como el est\xe1ndar ERC20 puede ponerse en la blockchain una sola vez, pero instanciarse muchas veces.\nNo es necesario cargar el mismo c\xf3digo fuente continuamente y desperdiciar espacio en la blockchain."),(0,r.kt)("h2",{id:"todo-using-the-contracts-ui"},"TODO: Using the Contracts UI"),(0,r.kt)("h3",{id:"1-cargar-el-c\xf3digo-del-contrato"},"1. Cargar el c\xf3digo del Contrato"),(0,r.kt)("p",null,"Aqu\xed cargaremos el c\xf3digo del contrato e instanciaremos una copia del contrato en la blockchain (que suele ser la raz\xf3n por la que cargamos el c\xf3digo del contrato en primer lugar):"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Haga clic en el bot\xf3n ",(0,r.kt)("strong",{parentName:"li"},"Add New Contract")," de la barra lateral."),(0,r.kt)("li",{parentName:"ul"},"Haga clic en el bot\xf3n ",(0,r.kt)("strong",{parentName:"li"},"Upload New Contract Code")," en la p\xe1gina de ",(0,r.kt)("inlineCode",{parentName:"li"},"Add New Contract"),"."),(0,r.kt)("li",{parentName:"ul"},"Elige una ",(0,r.kt)("strong",{parentName:"li"},"Instantiation account")," (e.g. ALICE)."),(0,r.kt)("li",{parentName:"ul"},"Dale una descripci\xf3n al contrato ",(0,r.kt)("strong",{parentName:"li"},"Name")," (e.g. Flipper Contract)."),(0,r.kt)("li",{parentName:"ul"},"Arrastra el fichero ",(0,r.kt)("inlineCode",{parentName:"li"},"flipper.contract")," que contiene el paquete Wasm blob y la metadata en el area de ",(0,r.kt)("inlineCode",{parentName:"li"},"drag & drop"),". Ver\xe1s la UI analizar los metadatos  y habilitar el bot\xf3n que te permitira avanzar al siguiente paso."),(0,r.kt)("li",{parentName:"ul"},"aga clic en el bot\xf3n ",(0,r.kt)("strong",{parentName:"li"},"Next"),".")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Flipper Instantiate Contract 01",src:a(9833).Z,width:"2272",height:"1586"})),(0,r.kt)("h3",{id:"2-instanciar-un-contrato-en-la-blockchain"},"2. Instanciar un Contrato en la Blockchain"),(0,r.kt)("p",null,"Los Smarts contracts existen como una extensi\xf3n del account system de la blockchain. Por lo tanto,\ncrear una instancia de este contrato crear\xe1 un nuevo ",(0,r.kt)("inlineCode",{parentName:"p"},"AccountId")," que almacenar\xe1 cualquier balance gestionado por el\nsmart contract y nos permite interactuar con el contrato."),(0,r.kt)("p",null,"Ahora una pantalla nos mostrara la informaci\xf3n que representa nuestro smart contract. Vamos a instanciar una copia del smart contract:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Aceptar las opciones por defecto del contrato ",(0,r.kt)("strong",{parentName:"li"},"Deployment Constructor"),"."),(0,r.kt)("li",{parentName:"ul"},"Aceptar la opci\xf3n por defecto ",(0,r.kt)("strong",{parentName:"li"},"Max Gas Allowed")," de ",(0,r.kt)("inlineCode",{parentName:"li"},"200000"),"."),(0,r.kt)("li",{parentName:"ul"},"Haga click en ",(0,r.kt)("inlineCode",{parentName:"li"},"Next"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Flipper Instantiate Contract 02",src:a(2573).Z,width:"2588",height:"1778"})),(0,r.kt)("p",null,"La transacci\xf3n ahora est\xe1 en cola, revisa tus datos y haga clic en  ",(0,r.kt)("strong",{parentName:"p"},"Upload and Instantiate")," o vuelve para modificar tus inputs."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Flipper Instantiate Contract 03",src:a(8191).Z,width:"2396",height:"1778"})),(0,r.kt)("p",null,"Cuando hagas clic en ",(0,r.kt)("strong",{parentName:"p"},"Upload and Instantiate")," deber\xedas ver que el extrinsic ",(0,r.kt)("inlineCode",{parentName:"p"},"instantiateWithCode"),"\nse est\xe1 procesando, y aparece una r\xe1faga de eventos, incluyendo la creaci\xf3n de una nueva cuenta (",(0,r.kt)("inlineCode",{parentName:"p"},"system.NewAccount"),")\ny la instanciaci\xf3n del contrato (",(0,r.kt)("inlineCode",{parentName:"p"},"contracts.Instantiated"),").\nSeras redirigido a una nueva p\xe1gina, donde podr\xe1s interactuar con la nueva instancia creada del contrato."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Flipper Instantiate Success",src:a(4417).Z,width:"2396",height:"1778"})),(0,r.kt)("div",{class:"translateTodo"},"## Using `cargo-contract`",(0,r.kt)("p",null,"Contracts can be deployed via the command-line as well. With ",(0,r.kt)("inlineCode",{parentName:"p"},"cargo-contract"),"\nit's just a simple sequence of:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"cargo contract build\ncargo contract upload --suri //Alice\ncargo contract instantiate --suri //Alice --args true\n"))))}d.isMDXComponent=!0},9833:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/contracts-ui-0-2c4dfe8d0bd5999bbd3a7c18c04b4210.png"},2573:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/contracts-ui-1-1182917a65f2198560ea8769359806bb.png"},8191:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/contracts-ui-2-5a1361c41163cb95b9bb942c7a2a9cf8.png"},4417:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/contracts-ui-3-55fe9a77f09f39f3d2445267313a873a.png"}}]);