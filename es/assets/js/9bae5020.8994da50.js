"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[8504],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},b=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),b=r,f=u["".concat(s,".").concat(b)]||u[b]||m[b]||l;return n?a.createElement(f,o(o({ref:t},p),{},{components:n})):a.createElement(f,o({ref:t},p))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=b;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,o[1]=i;for(var c=2;c<l;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},3280:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const l={title:"#[ink(payable)]",slug:"/macros-attributes/payable"},o=void 0,i={unversionedId:"macros-attributes/payable",id:"macros-attributes/payable",title:"#[ink(payable)]",description:"Aplicable a los mensajes ink!.",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/macros-attributes/payable.md",sourceDirName:"macros-attributes",slug:"/macros-attributes/payable",permalink:"/es/4.x/macros-attributes/payable",draft:!1,editUrl:"https://github.com/paritytech/ink-docs/edit/master/docs/macros-attributes/payable.md",tags:[],version:"current",frontMatter:{title:"#[ink(payable)]",slug:"/macros-attributes/payable"},sidebar:"reference",previous:{title:'#[ink(namespace = "\u2026")]',permalink:"/es/4.x/macros-attributes/namespace"},next:{title:"#[ink(selector = S:u32)]",permalink:"/es/4.x/macros-attributes/selector"}},s={},c=[{value:"Ejemplo",id:"ejemplo",level:2}],p={toc:c};function u(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Aplicable a los mensajes ink!."),(0,r.kt)("p",null,"Permite recibir valor como parte de la llamada del mensaje ink!.\nLos constructores ink! son implicitamente payables, dada la dotaci\xf3n inicial que requiere un contrato."),(0,r.kt)("p",null,"Un mensaje ink! por defecto rechazara las llamadas que adicionalmente financian el smart contract.\nLos autores de los smart contracts ink! pueden hacer que los mensajes ink! sean payable\na\xf1adiendole la marca ",(0,r.kt)("inlineCode",{parentName:"p"},"payable"),". Un ejemplo a continuaci\xf3n: "),(0,r.kt)("p",null,"Date cuenta que los constructores ink! son siempre implicitamente payable y por lo tanto no pueden\nser marcados como tal."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"#[ink::contract]\nmod flipper {\n\n    #[ink(storage)]\n    pub struct Flipper {\n        value: bool,\n    }\n\n    impl Flipper {\n        #[ink(constructor)]\n        pub fn new(initial_value: bool) -> Self {\n            Flipper { value: false }\n        }\n\n        /// Voltea el valor actual.\n        #[ink(message)]\n        #[ink(payable)] // Tu puedes especificar payable out-of-line.\n        pub fn flip(&mut self) {\n            self.value = !self.value;\n        }\n\n        /// Devuelve el valor actual.\n        #[ink(message, payable)] // o especificar payable inline.\n        pub fn get(&self) -> bool {\n            self.value\n        }\n    }\n}\n")),(0,r.kt)("h2",{id:"ejemplo"},"Ejemplo"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-rust"},"#[ink(message, payable)]\npub fn pay_me(&self) {\n    let _transferred = self.env().transferred_balance();\n}\n")),(0,r.kt)("p",null,"Mira el contrato ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/ink/blob/master/examples/contract-transfer/lib.rs"},(0,r.kt)("inlineCode",{parentName:"a"},"examples/contract-transfer"))," para un ejemplo m\xe1s externo."))}u.isMDXComponent=!0}}]);